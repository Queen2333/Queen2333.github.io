<html>
<!-- Head tag -->
<head>
  <meta charset="UTF-8">

  
  <title>
    å‰ç«¯æ¶æ„--ReactçŸ¥è¯†ç‚¹ |
    Majesty&#39;s blog
  </title>
  


  <meta name="description" content="">
  <meta name="author" content="Alex">
  <meta property="og:title" content="å‰ç«¯æ¶æ„--ReactçŸ¥è¯†ç‚¹" />
  <meta property="og:description" content="" />
  <meta property='og:site_name' content='Majesty&#39;s blog' />
  <meta property="og:image" content="http://example.com/img/default.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:title" content="å‰ç«¯æ¶æ„--ReactçŸ¥è¯†ç‚¹" />

  <meta name="twitter:image" content="http://example.com/img/default.jpg" />

  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous">
  
<link rel="stylesheet" href="/css/style.css">


<meta name="generator" content="Hexo 5.3.0"></head>

<body>
    <!-- Menu -->
    <nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark page-navbar gradient">
  <div class="container">
    <a class="navbar-brand logo" href="http://example.com">
      Majesty&#39;s blog</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item item">
          
        <li class="nav-item item">
          <a class="nav-link" href="/">
            Home</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" href="/archives">
            ğŸ—‚ï¸Archives</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" target="_blank" rel="noopener" href="https://hexo.io/">
            Hexo</a>
        </li>
        
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="page main-page">
        <div class="container blogPost">
    <div class="row">
        <div class="col-sm-9 px-md-5">
            <h2 class="blog-post-title">
                å‰ç«¯æ¶æ„--ReactçŸ¥è¯†ç‚¹
            </h2>
            <p class="meta">
                <i class="far fa-clock"></i>
                2022-04-09 
            </p>
            <!-- Content -->
            <h4 id="setState-åˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥"><a href="#setState-åˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥" class="headerlink" title="setState åˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥"></a>setState åˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥</h4><p>å…ˆç»™å‡ºç­”æ¡ˆ:Â  æœ‰æ—¶è¡¨ç°å‡ºå¼‚æ­¥,æœ‰æ—¶è¡¨ç°å‡ºåŒæ­¥</p>
<p>setState å¹¶ä¸æ˜¯å•çº¯åŒæ­¥/å¼‚æ­¥çš„ï¼Œå®ƒçš„è¡¨ç°ä¼šå› è°ƒç”¨åœºæ™¯çš„ä¸åŒè€Œä¸åŒã€‚åœ¨æºç ä¸­ï¼Œé€šè¿‡ isBatchingUpdates æ¥åˆ¤æ–­setState æ˜¯å…ˆå­˜è¿› state é˜Ÿåˆ—è¿˜æ˜¯ç›´æ¥æ›´æ–°ï¼Œå¦‚æœå€¼ä¸º true åˆ™æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œä¸º false åˆ™ç›´æ¥æ›´æ–°ã€‚</p>
<p>å¼‚æ­¥ï¼š åœ¨ React å¯ä»¥æ§åˆ¶çš„åœ°æ–¹ï¼Œå°±ä¸º trueï¼Œæ¯”å¦‚åœ¨ React ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å’Œåˆæˆäº‹ä»¶ä¸­ï¼Œéƒ½ä¼šèµ°åˆå¹¶æ“ä½œï¼Œå»¶è¿Ÿæ›´æ–°çš„ç­–ç•¥ã€‚<br>åŒæ­¥ï¼š åœ¨ React æ— æ³•æ§åˆ¶çš„åœ°æ–¹ï¼Œæ¯”å¦‚åŸç”Ÿäº‹ä»¶ï¼Œå…·ä½“å°±æ˜¯åœ¨ addEventListenerÂ ã€setTimeoutã€setInterval ç­‰äº‹ä»¶ä¸­ï¼Œå°±åªèƒ½åŒæ­¥æ›´æ–°ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6941546135827775525#heading-30">https://juejin.cn/post/6941546135827775525#heading-30</a></p>
<p>setState å¦‚ä½•é“¾å¼æ›´æ–°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">changeValue &#x3D; v &#x3D;&gt; &#123;</span><br><span class="line">  this.setState(state &#x3D;&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: state.counter + v</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setCounter &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  this.changeValue(1)</span><br><span class="line">  this.changeValue(2)</span><br><span class="line">  this.changeValue(3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="react-ç”Ÿå‘½å‘¨æœŸ"><a href="#react-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="react ç”Ÿå‘½å‘¨æœŸ"></a>react ç”Ÿå‘½å‘¨æœŸ</h4><p>è£…è½½é˜¶æ®µï¼ˆMountï¼‰ï¼Œç»„ä»¶ç¬¬ä¸€æ¬¡åœ¨DOMæ ‘ä¸­è¢«æ¸²æŸ“çš„è¿‡ç¨‹ï¼›<br>  constructor<br>  getDerivedStateFromProps<br>  render<br>  componentDidMount</p>
<p>æ›´æ–°è¿‡ç¨‹ï¼ˆUpdateï¼‰ï¼Œç»„ä»¶çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°æ›´æ–°æ¸²æŸ“çš„è¿‡ç¨‹ï¼›<br>  getDerivedStateFromProps<br>  shouldComponentUpdate<br>  render<br>  getSnapshotBeforeUpdate<br>  componentDidUpdate</p>
<p>å¸è½½è¿‡ç¨‹ï¼ˆUnmountï¼‰ï¼Œç»„ä»¶ä»DOMæ ‘ä¸­è¢«ç§»é™¤çš„è¿‡ç¨‹ï¼›<br>  componentWillUnmount()</p>
<p>é”™è¯¯å¤„ç†é˜¶æ®µ</p>
<p>  componentDidCatch(error, info)ï¼›</p>
<p>æ–°çš„ç”Ÿå‘½å‘¨æœŸï¼ˆ16.4 ä¹‹åï¼‰:</p>
<p>Mounting:</p>
<p>Constructor()ï¼š</p>
<pre><code>ç»„ä»¶çš„æ„é€ å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªè¢«æ‰§è¡Œï¼Œè‹¥æ²¡æœ‰æ˜¾å¼å®šä¹‰å®ƒï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è‹¥æ˜¾å¼å®šä¹‰äº†æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­æ‰§è¡Œ super(props)ï¼Œå¦åˆ™æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­æ‹¿åˆ°thisã€‚
å¦‚æœä¸åˆå§‹åŒ– state æˆ–ä¸è¿›è¡Œæ–¹æ³•ç»‘å®šï¼Œåˆ™ä¸éœ€è¦ä¸º React ç»„ä»¶å®ç°æ„é€ å‡½æ•°Constructorã€‚
constructorä¸­é€šå¸¸åªåšä¸¤ä»¶äº‹ï¼š

åˆå§‹åŒ–ç»„ä»¶çš„ state
ç»™äº‹ä»¶å¤„ç†æ–¹æ³•ç»‘å®š this</code></pre>
<p>static getDerivedStateFromProps(props, state):</p>
<pre><code>è¿™æ˜¯ä¸ªé™æ€æ–¹æ³•ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨è¿™ä¸ªå‡½æ•°é‡Œä½¿ç”¨ thisï¼Œæœ‰ä¸¤ä¸ªå‚æ•° props å’Œ stateï¼Œåˆ†åˆ«æŒ‡æ¥æ”¶åˆ°çš„æ–°å‚æ•°å’Œå½“å‰ç»„ä»¶çš„ state å¯¹è±¡ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ç”¨æ¥æ›´æ–°å½“å‰çš„ state å¯¹è±¡ï¼Œå¦‚æœä¸éœ€è¦æ›´æ–°å¯ä»¥è¿”å› nullã€‚
è¯¥å‡½æ•°ä¼šåœ¨è£…è½½æ—¶ï¼Œæ¥æ”¶åˆ°æ–°çš„ props æˆ–è€…è°ƒç”¨äº† setState å’Œ forceUpdate æ—¶è¢«è°ƒç”¨ã€‚å¦‚å½“æ¥æ”¶åˆ°æ–°çš„å±æ€§æƒ³ä¿®æ”¹ state ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚</code></pre>
<p>render():</p>
<pre><code>renderæ˜¯React ä¸­æœ€æ ¸å¿ƒçš„æ–¹æ³•ï¼Œä¸€ä¸ªç»„ä»¶ä¸­å¿…é¡»è¦æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒä¼šæ ¹æ®çŠ¶æ€ state å’Œå±æ€§ props æ¸²æŸ“ç»„ä»¶ã€‚è¿™ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¿”å›éœ€è¦æ¸²æŸ“çš„å†…å®¹ï¼Œæ‰€ä»¥ä¸è¦åœ¨è¿™ä¸ªå‡½æ•°å†…åšå…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œé€šå¸¸è°ƒç”¨è¯¥æ–¹æ³•ä¼šè¿”å›ä»¥ä¸‹ç±»å‹ä¸­ä¸€ä¸ªï¼š

React å…ƒç´ ï¼šè¿™é‡ŒåŒ…æ‹¬åŸç”Ÿçš„ DOM ä»¥åŠ React ç»„ä»¶ï¼›
æ•°ç»„å’Œ Fragmentï¼ˆç‰‡æ®µï¼‰ï¼šå¯ä»¥è¿”å›å¤šä¸ªå…ƒç´ ï¼›
Portalsï¼ˆæ’æ§½ï¼‰ï¼šå¯ä»¥å°†å­å…ƒç´ æ¸²æŸ“åˆ°ä¸åŒçš„ DOM å­æ ‘ç§ï¼›
å­—ç¬¦ä¸²å’Œæ•°å­—ï¼šè¢«æ¸²æŸ“æˆ DOM ä¸­çš„ text èŠ‚ç‚¹ï¼›
å¸ƒå°”å€¼æˆ– nullï¼šä¸æ¸²æŸ“ä»»ä½•å†…å®¹ã€‚</code></pre>
<p>componentDidMount():</p>
<pre><code>ä¼šåœ¨ç»„ä»¶æŒ‚è½½åï¼ˆæ’å…¥ DOM æ ‘ä¸­ï¼‰ç«‹å³è°ƒã€‚è¯¥é˜¶æ®µé€šå¸¸è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š

æ‰§è¡Œä¾èµ–äºDOMçš„æ“ä½œï¼›
å‘é€ç½‘ç»œè¯·æ±‚ï¼›ï¼ˆå®˜æ–¹å»ºè®®ï¼‰
æ·»åŠ è®¢é˜…æ¶ˆæ¯ï¼ˆä¼šåœ¨componentWillUnmountå–æ¶ˆè®¢é˜…ï¼‰ï¼›

å¦‚æœåœ¨ componentDidMount ä¸­è°ƒç”¨ setState ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡é¢å¤–çš„æ¸²æŸ“ï¼Œå¤šè°ƒç”¨äº†ä¸€æ¬¡ render å‡½æ•°ï¼Œç”±äºå®ƒæ˜¯åœ¨æµè§ˆå™¨åˆ·æ–°å±å¹•å‰æ‰§è¡Œçš„ï¼Œæ‰€ä»¥ç”¨æˆ·å¯¹æ­¤æ˜¯æ²¡æœ‰æ„ŸçŸ¥çš„ï¼Œä½†æ˜¯æˆ‘åº”å½“é¿å…è¿™æ ·ä½¿ç”¨ï¼Œè¿™æ ·ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½é—®é¢˜ï¼Œå°½é‡æ˜¯åœ¨ constructor ä¸­åˆå§‹åŒ– state å¯¹è±¡ã€‚</code></pre>
<p>Updating:</p>
<p>static getDerivedStateFromProps(props, state):</p>
<pre><code>æ­¤æ—¶éœ€è¦åˆ¤æ–­shouldUpdateï¼Œä»¥ä¾¿ä¸‹ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸä½¿ç”¨</code></pre>
<p>shouldComponentUpdate(nextProps, nextState):</p>
<pre><code>åœ¨è¯´è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹å‰ï¼Œæ¥çœ‹ä¸¤ä¸ªé—®é¢˜ï¼š

setState å‡½æ•°åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“å—ï¼Ÿä¾‹å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š

```this.setState(&#123;number: this.state.number&#125;)```

å¦‚æœæ²¡æœ‰è°ƒç”¨ setStateï¼Œprops å€¼ä¹Ÿæ²¡æœ‰å˜åŒ–ï¼Œæ˜¯ä¸æ˜¯ç»„ä»¶å°±ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Ÿ

ç¬¬ä¸€ä¸ªé—®é¢˜ç­”æ¡ˆæ˜¯ ä¼š ï¼Œç¬¬äºŒä¸ªé—®é¢˜å¦‚æœæ˜¯çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œä¸ç®¡ä¼ å…¥çš„ props æœ‰æ²¡æœ‰å˜åŒ–ï¼Œéƒ½ä¼šå¼•èµ·å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚
é‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•è§£å†³åœ¨è¿™ä¸¤ä¸ªåœºæ™¯ä¸‹ä¸è®©ç»„ä»¶é‡æ–°æ¸²æŸ“è¿›è€Œæå‡æ€§èƒ½å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ shouldComponentUpdate ç™»åœºäº†ï¼Œè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ç”¨æ¥æå‡é€Ÿåº¦çš„ï¼Œå®ƒæ˜¯åœ¨é‡æ–°æ¸²æŸ“ç»„ä»¶å¼€å§‹å‰è§¦å‘çš„ï¼Œé»˜è®¤è¿”å› trueï¼Œå¯ä»¥æ¯”è¾ƒ this.props å’Œ nextProps ï¼Œthis.state å’Œ nextState å€¼æ˜¯å¦å˜åŒ–ï¼Œæ¥ç¡®è®¤è¿”å› true æˆ–è€… falseã€‚å½“è¿”å› false æ—¶ï¼Œç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹åœæ­¢ï¼Œåç»­çš„ renderã€componentDidUpdate ä¹Ÿä¸ä¼šè¢«è°ƒç”¨ã€‚

æ³¨æ„ï¼š æ·»åŠ  shouldComponentUpdate æ–¹æ³•æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨æ·±åº¦ç›¸ç­‰æ£€æŸ¥ï¼ˆå¦‚ä½¿ç”¨ JSON.stringify()ï¼‰ï¼Œå› ä¸ºæ·±æ¯”è¾ƒæ•ˆç‡å¾ˆä½ï¼Œå¯èƒ½ä¼šæ¯”é‡æ–°æ¸²æŸ“ç»„ä»¶æ•ˆç‡è¿˜ä½ã€‚è€Œä¸”è¯¥æ–¹æ³•ç»´æŠ¤æ¯”è¾ƒå›°éš¾ï¼Œå»ºè®®ä½¿ç”¨è¯¥æ–¹æ³•ä¼šäº§ç”Ÿæ˜æ˜¾çš„æ€§èƒ½æå‡æ—¶ä½¿ç”¨ã€‚</code></pre>
<p>render()</p>
<p>getSnapshotBeforeUpdate(prevProps, prevState) :</p>
<pre><code>è¿™ä¸ªæ–¹æ³•åœ¨ render ä¹‹åï¼ŒcomponentDidUpdate ä¹‹å‰è°ƒç”¨ï¼Œæœ‰ä¸¤ä¸ªå‚æ•° prevProps å’Œ prevStateï¼Œè¡¨ç¤ºæ›´æ–°ä¹‹å‰çš„ props å’Œ stateï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»è¦å’Œ componentDidUpdate ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶ä¸”è¦æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œé»˜è®¤æ˜¯ nullï¼Œè¿™ä¸ªè¿”å›å€¼ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ ç»™ componentDidUpdateã€‚</code></pre>
<p>componentDidUpdate(prevPropsï¼ŒprevStateï¼Œsnapshot):</p>
<pre><code>componentDidUpdate() ä¼šåœ¨æ›´æ–°åä¼šè¢«ç«‹å³è°ƒç”¨ï¼Œé¦–æ¬¡æ¸²æŸ“ä¸ä¼šæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ è¯¥é˜¶æ®µé€šå¸¸è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š

å½“ç»„ä»¶æ›´æ–°åï¼Œå¯¹ DOM è¿›è¡Œæ“ä½œï¼›
å¦‚æœä½ å¯¹æ›´æ–°å‰åçš„ props è¿›è¡Œäº†æ¯”è¾ƒï¼Œä¹Ÿå¯ä»¥é€‰æ‹©åœ¨æ­¤å¤„è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼›ï¼ˆä¾‹å¦‚ï¼Œå½“ props æœªå‘ç”Ÿå˜åŒ–æ—¶ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œç½‘ç»œè¯·æ±‚ï¼‰ã€‚

è¯¥æ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼š

prevProps: æ›´æ–°å‰çš„props
prevState: æ›´æ–°å‰çš„state
snapshot: getSnapshotBeforeUpdate()ç”Ÿå‘½å‘¨æœŸçš„è¿”å›å€¼</code></pre>
<p>Umounting:</p>
<p>componentWillUnmount():</p>
<pre><code>å¸è½½é˜¶æ®µåªæœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ŒcomponentWillUnmount() ä¼šåœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œå¿…è¦çš„æ¸…ç†æ“ä½œï¼š

æ¸…é™¤ timerï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚æˆ–æ¸…é™¤
å–æ¶ˆåœ¨ componentDidMount() ä¸­åˆ›å»ºçš„è®¢é˜…ç­‰ï¼›

è¿™ä¸ªç”Ÿå‘½å‘¨æœŸåœ¨ä¸€ä¸ªç»„ä»¶è¢«å¸è½½å’Œé”€æ¯ä¹‹å‰è¢«è°ƒç”¨ï¼Œå› æ­¤ä½ ä¸åº”è¯¥å†è¿™ä¸ªæ–¹æ³•ä¸­ä½¿ç”¨ setStateï¼Œå› ä¸ºç»„ä»¶ä¸€æ—¦è¢«å¸è½½ï¼Œå°±ä¸ä¼šå†è£…è½½ï¼Œä¹Ÿå°±ä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚</code></pre>
<p>Error Handing:</p>
<p>componentDidCatch(error, info)</p>
<pre><code>æ­¤ç”Ÿå‘½å‘¨æœŸåœ¨åä»£ç»„ä»¶æŠ›å‡ºé”™è¯¯åè¢«è°ƒç”¨ã€‚ å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°âˆ¶

errorï¼šæŠ›å‡ºçš„é”™è¯¯ã€‚
infoï¼šå¸¦æœ‰ componentStack key çš„å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³ç»„ä»¶å¼•å‘é”™è¯¯çš„æ ˆä¿¡æ¯</code></pre>
<hr>
<h4 id="reactä¸ºä»€ä¹ˆåºŸå¼ƒé‚£å‡ ä¸ªç”Ÿå‘½å‘¨æœŸ"><a href="#reactä¸ºä»€ä¹ˆåºŸå¼ƒé‚£å‡ ä¸ªç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="reactä¸ºä»€ä¹ˆåºŸå¼ƒé‚£å‡ ä¸ªç”Ÿå‘½å‘¨æœŸ"></a>reactä¸ºä»€ä¹ˆåºŸå¼ƒé‚£å‡ ä¸ªç”Ÿå‘½å‘¨æœŸ</h4><p>åºŸå¼ƒæ‰çš„ç”Ÿå‘½å‘¨æœŸ :( componentWillMount ï¼Œ componentWillReceiveProps ï¼Œ componentWillUpdate)</p>
<p>è¢«åºŸå¼ƒçš„ä¸‰ä¸ªå‡½æ•°éƒ½æ˜¯åœ¨renderä¹‹å‰ï¼Œå› ä¸ºfiberçš„å‡ºç°ï¼Œå¾ˆå¯èƒ½å› ä¸ºé«˜ä¼˜å…ˆçº§ä»»åŠ¡çš„å‡ºç°è€Œæ‰“æ–­ç°æœ‰ä»»åŠ¡å¯¼è‡´å®ƒä»¬ä¼šè¢«æ‰§è¡Œå¤šæ¬¡ã€‚<br>å¦å¤–çš„ä¸€ä¸ªåŸå› åˆ™æ˜¯ï¼ŒReactæƒ³çº¦æŸä½¿ç”¨è€…ï¼Œå¥½çš„æ¡†æ¶èƒ½å¤Ÿè®©äººä¸å¾—å·²å†™å‡ºå®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•çš„ä»£ç ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6941546135827775525#heading-55">https://juejin.cn/post/6941546135827775525#heading-55</a></p>
<hr>
<h4 id="ç»„ä»¶é€šä¿¡"><a href="#ç»„ä»¶é€šä¿¡" class="headerlink" title="ç»„ä»¶é€šä¿¡"></a>ç»„ä»¶é€šä¿¡</h4><p>Reactç»„ä»¶é—´é€šä¿¡å¸¸è§çš„å‡ ç§æƒ…å†µ:</p>
<pre><code>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡
å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡
è·¨çº§ç»„ä»¶é€šä¿¡
éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡

1.çˆ¶å­é—´

çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡ï¼šçˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ é€’éœ€è¦çš„ä¿¡æ¯ã€‚

<figure class="highlight plain"><figcaption><span>å­ç»„ä»¶: Child</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const Child &#x3D; props &#x3D;&gt;&#123;</span><br><span class="line">  return &lt;p&gt;&#123;props.name&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ Parent</span><br><span class="line">const Parent &#x3D; ()&#x3D;&gt;&#123;</span><br><span class="line">    return &lt;Child name&#x3D;&quot;react&quot;&gt;&lt;&#x2F;Child&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡ï¼š: props+å›è°ƒçš„æ–¹å¼ã€‚

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å­ç»„ä»¶: Child</span><br><span class="line">const Child &#x3D; props &#x3D;&gt;&#123;</span><br><span class="line">  const cb &#x3D; msg &#x3D;&gt;&#123;</span><br><span class="line">      return ()&#x3D;&gt;&#123;</span><br><span class="line">          props.callback(msg)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return (</span><br><span class="line">      &lt;button onClick&#x3D;&#123;cb(&quot;ä½ å¥½!&quot;)&#125;&gt;ä½ å¥½&lt;&#x2F;button&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ Parent</span><br><span class="line">class Parent extends Component &#123;</span><br><span class="line">    callback(msg)&#123;</span><br><span class="line">        console.log(msg)</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return &lt;Child callback&#x3D;&#123;this.callback.bind(this)&#125;&gt;&lt;&#x2F;Child&gt;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
2.è·¨çº§ç»„ä»¶çš„é€šä¿¡æ–¹å¼:

ä½¿ç”¨propsï¼Œåˆ©ç”¨ä¸­é—´ç»„ä»¶å±‚å±‚ä¼ é€’,ä½†æ˜¯å¦‚æœçˆ¶ç»„ä»¶ç»“æ„è¾ƒæ·±ï¼Œé‚£ä¹ˆä¸­é—´æ¯ä¸€å±‚ç»„ä»¶éƒ½è¦å»ä¼ é€’propsï¼Œå¢åŠ äº†å¤æ‚åº¦ï¼Œå¹¶ä¸”è¿™äº›propså¹¶ä¸æ˜¯ä¸­é—´ç»„ä»¶è‡ªå·±éœ€è¦çš„ã€‚
ä½¿ç”¨contextï¼Œcontextç›¸å½“äºä¸€ä¸ªå¤§å®¹å™¨ï¼Œå¯ä»¥æŠŠè¦é€šä¿¡çš„å†…å®¹æ”¾åœ¨è¿™ä¸ªå®¹å™¨ä¸­ï¼Œè¿™æ ·ä¸ç®¡åµŒå¥—å¤šæ·±ï¼Œéƒ½å¯ä»¥éšæ„å–ç”¨ï¼Œå¯¹äºè·¨è¶Šå¤šå±‚çš„å…¨å±€æ•°æ®å¯ä»¥ä½¿ç”¨contextå®ç°ã€‚

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; contextæ–¹å¼å®ç°è·¨çº§ç»„ä»¶é€šä¿¡ </span><br><span class="line">&#x2F;&#x2F; Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®</span><br><span class="line">const BatteryContext &#x3D; createContext();</span><br><span class="line">&#x2F;&#x2F;  å­ç»„ä»¶çš„å­ç»„ä»¶ </span><br><span class="line">class GrandChild extends Component &#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;BatteryContext.Consumer&gt;</span><br><span class="line">                &#123;</span><br><span class="line">                    color &#x3D;&gt; &lt;h1 style&#x3D;&#123;&#123;&quot;color&quot;:color&#125;&#125;&gt;æˆ‘æ˜¯çº¢è‰²çš„:&#123;color&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">                &#125;</span><br><span class="line">            &lt;&#x2F;BatteryContext.Consumer&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;  å­ç»„ä»¶</span><br><span class="line">const Child &#x3D; () &#x3D;&gt;&#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;GrandChild&#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶</span><br><span class="line">class Parent extends Component &#123;</span><br><span class="line">      state &#x3D; &#123;</span><br><span class="line">          color:&quot;red&quot;</span><br><span class="line">      &#125;</span><br><span class="line">      render()&#123;</span><br><span class="line">          const &#123;color&#125; &#x3D; this.state</span><br><span class="line">          return (</span><br><span class="line">          &lt;BatteryContext.Provider value&#x3D;&#123;color&#125;&gt;</span><br><span class="line">              &lt;Child&gt;&lt;&#x2F;Child&gt;</span><br><span class="line">          &lt;&#x2F;BatteryContext.Provider&gt;</span><br><span class="line">          )</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
3. éåµŒå¥—å…³ç³»ç»„ä»¶

å³æ²¡æœ‰ä»»ä½•åŒ…å«å…³ç³»çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬å…„å¼Ÿç»„ä»¶ä»¥åŠä¸åœ¨åŒä¸€ä¸ªçˆ¶çº§ä¸­çš„éå…„å¼Ÿç»„ä»¶ã€‚

å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶é€šä¿¡ï¼ˆå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼‰
å¯ä»¥é€šè¿‡reduxç­‰è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†
å¦‚æœæ˜¯å…„å¼Ÿç»„ä»¶é€šä¿¡ï¼Œå¯ä»¥æ‰¾åˆ°è¿™ä¸¤ä¸ªå…„å¼ŸèŠ‚ç‚¹å…±åŒçš„çˆ¶èŠ‚ç‚¹, ç»“åˆçˆ¶å­é—´é€šä¿¡æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚

æ€»ç»“ï¼šç»„ä»¶é€šä¿¡çš„æ–¹å¼æœ‰å“ªäº›

â½—ç»„ä»¶å‘â¼¦ç»„ä»¶é€šè®¯: â½—ç»„ä»¶å¯ä»¥å‘â¼¦ç»„ä»¶é€šè¿‡ä¼  props çš„â½…å¼ï¼Œå‘â¼¦ç»„ä»¶è¿›â¾é€šè®¯
â¼¦ç»„ä»¶å‘â½—ç»„ä»¶é€šè®¯: props+å›è°ƒçš„â½…å¼ï¼Œâ½—ç»„ä»¶å‘â¼¦ç»„ä»¶ä¼ é€’propsè¿›â¾é€šè®¯ï¼Œæ­¤propsä¸ºä½œâ½¤åŸŸä¸ºâ½—ç»„ä»¶â¾ƒèº«çš„å‡½ æ•°ï¼Œâ¼¦ç»„ä»¶è°ƒâ½¤è¯¥å‡½æ•°ï¼Œå°†â¼¦ç»„ä»¶æƒ³è¦ä¼ é€’çš„ä¿¡æ¯ï¼Œä½œä¸ºå‚æ•°ï¼Œä¼ é€’åˆ°â½—ç»„ä»¶çš„ä½œâ½¤åŸŸä¸­
å…„å¼Ÿç»„ä»¶é€šä¿¡: æ‰¾åˆ°è¿™ä¸¤ä¸ªå…„å¼ŸèŠ‚ç‚¹å…±åŒçš„â½—èŠ‚ç‚¹,ç»“åˆä¸Šâ¾¯ä¸¤ç§â½…å¼ç”±â½—èŠ‚ç‚¹è½¬å‘ä¿¡æ¯è¿›â¾é€šä¿¡
è·¨å±‚çº§é€šä¿¡: Context è®¾è®¡â½¬çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºâ¼€ä¸ªç»„ä»¶æ ‘â½½â¾”æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„â½¤æˆ·ã€ä¸»é¢˜æˆ–â¾¸é€‰è¯­â¾”ï¼Œå¯¹äºè·¨è¶Šå¤šå±‚çš„å…¨å±€æ•°æ®é€šè¿‡ Context é€šä¿¡å†é€‚åˆä¸è¿‡
å‘å¸ƒè®¢é˜…æ¨¡å¼: å‘å¸ƒè€…å‘å¸ƒäº‹ä»¶ï¼Œè®¢é˜…è€…ç›‘å¬äº‹ä»¶å¹¶åšå‡ºååº”,æˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•â¼Ševentæ¨¡å—è¿›â¾é€šä¿¡
å…¨å±€çŠ¶æ€ç®¡ç†â¼¯å…·: å€ŸåŠ©Reduxæˆ–è€…Mobxç­‰å…¨å±€çŠ¶æ€ç®¡ç†â¼¯å…·è¿›â¾é€šä¿¡,è¿™ç§â¼¯å…·ä¼šç»´æŠ¤â¼€ä¸ªå…¨å±€çŠ¶æ€ä¸­â¼¼Store,å¹¶æ ¹æ®ä¸åŒçš„äº‹ä»¶äº§â½£æ–°çš„çŠ¶æ€</code></pre>
<hr>
<h4 id="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•"><a href="#çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•" class="headerlink" title="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•"></a>çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36990322/article/details/109858890">https://blog.csdn.net/qq_36990322/article/details/109858890</a></p>
<hr>
<h4 id="reactä¸ºä»€ä¹ˆä½¿ç”¨è™šæ‹Ÿdom"><a href="#reactä¸ºä»€ä¹ˆä½¿ç”¨è™šæ‹Ÿdom" class="headerlink" title="reactä¸ºä»€ä¹ˆä½¿ç”¨è™šæ‹Ÿdom"></a>reactä¸ºä»€ä¹ˆä½¿ç”¨è™šæ‹Ÿdom</h4><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/411785091">https://zhuanlan.zhihu.com/p/411785091</a></p>
<hr>
<h4 id="è™šæ‹Ÿdomçš„åŸç†"><a href="#è™šæ‹Ÿdomçš„åŸç†" class="headerlink" title="è™šæ‹Ÿdomçš„åŸç†"></a>è™šæ‹Ÿdomçš„åŸç†</h4><p>è™šæ‹Ÿ DOM çš„å®ç°åŸç†ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ 3 éƒ¨åˆ†ï¼š</p>
<p>ç”¨ JavaScript å¯¹è±¡æ¨¡æ‹ŸçœŸå® DOM æ ‘ï¼Œå¯¹çœŸå® DOM è¿›è¡ŒæŠ½è±¡ï¼›<br>diff ç®—æ³• â€” æ¯”è¾ƒä¸¤æ£µè™šæ‹Ÿ DOM æ ‘çš„å·®å¼‚ï¼›<br>pach ç®—æ³• â€” å°†ä¸¤ä¸ªè™šæ‹Ÿ DOM å¯¹è±¡çš„å·®å¼‚åº”ç”¨åˆ°çœŸæ­£çš„ DOM æ ‘ã€‚</p>
<hr>
<h4 id="vue-å’Œ-react-çš„-diff-ç®—æ³•æ¯”è¾ƒ"><a href="#vue-å’Œ-react-çš„-diff-ç®—æ³•æ¯”è¾ƒ" class="headerlink" title="vue å’Œ react çš„ diff ç®—æ³•æ¯”è¾ƒ"></a>vue å’Œ react çš„ diff ç®—æ³•æ¯”è¾ƒ</h4><p>ç›¸åŒç‚¹ï¼š<br>Vue å’Œ react çš„ diff ç®—æ³•ï¼Œéƒ½æ˜¯ä¸è¿›è¡Œè·¨å±‚çº§æ¯”è¾ƒï¼ŒåªåšåŒçº§æ¯”è¾ƒã€‚<br>éƒ½æ˜¯æ·±åº¦ä¼˜å…ˆç®—æ³•ã€‚</p>
<p>ä¸åŒç‚¹ï¼š</p>
<pre><code>1.Vue è¿›è¡Œ diff æ—¶ï¼Œè°ƒç”¨ patch æ‰“è¡¥ä¸å‡½æ•°ï¼Œä¸€è¾¹æ¯”è¾ƒä¸€è¾¹ç»™çœŸå®çš„ DOM æ‰“è¡¥ä¸
2.Vue å¯¹æ¯”èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†æ˜¯ className ä¸åŒæ—¶ï¼Œè®¤ä¸ºæ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ é™¤é‡æ–°åˆ›å»ºï¼Œè€Œ react åˆ™è®¤ä¸ºæ˜¯åŒç±»å‹èŠ‚ç‚¹ï¼Œè¿›è¡Œä¿®æ”¹æ“ä½œ
3.
  â‘  Vue çš„åˆ—è¡¨æ¯”å¯¹ï¼Œé‡‡ç”¨ä»ä¸¤ç«¯åˆ°ä¸­é—´çš„æ–¹å¼ï¼Œæ—§é›†åˆå’Œæ–°é›†åˆä¸¤ç«¯å„å­˜åœ¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸¤ä¸¤è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœåŒ¹é…ä¸Šäº†å°±æŒ‰ç…§æ–°é›†åˆå»è°ƒæ•´æ—§é›†åˆï¼Œæ¯æ¬¡å¯¹æ¯”ç»“æŸåï¼ŒæŒ‡é’ˆå‘é˜Ÿåˆ—ä¸­é—´ç§»åŠ¨ï¼›
  â‘¡ è€Œ react åˆ™æ˜¯ä»å·¦å¾€å³ä¾æ¬¡å¯¹æ¯”ï¼Œåˆ©ç”¨å…ƒç´ çš„ index å’Œæ ‡è¯† lastIndex è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ»¡è¶³ index &lt; lastIndex å°±ç§»åŠ¨å…ƒç´ ï¼Œåˆ é™¤å’Œæ·»åŠ åˆ™å„è‡ªæŒ‰ç…§è§„åˆ™è°ƒæ•´ï¼›
  â‘¢ å½“ä¸€ä¸ªé›†åˆæŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°æœ€å‰é¢ï¼Œreact ä¼šæŠŠå‰é¢çš„èŠ‚ç‚¹ä¾æ¬¡å‘åç§»åŠ¨ï¼Œè€Œ Vue åªä¼šæŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹æ”¾åœ¨æœ€å‰é¢ï¼Œè¿™æ ·çš„æ“ä½œæ¥çœ‹ï¼ŒVue çš„ diff æ€§èƒ½æ˜¯é«˜äº react çš„</code></pre>
<p><a target="_blank" rel="noopener" href="https://github.com/pfan123/Articles/issues/62">https://github.com/pfan123/Articles/issues/62</a></p>
<hr>
<h4 id="React-ä¸­çš„-key-æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨"><a href="#React-ä¸­çš„-key-æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨" class="headerlink" title="React ä¸­çš„ key æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨"></a>React ä¸­çš„ key æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨</h4><p>1.æºç ä¸­ ReactChildFiber.js æ–‡ä»¶ä¸­çš„ reconcileSingleElement æ–¹æ³•åè°ƒï¼Œæ¯”è¾ƒè€çš„ key å’Œæœ€æ–°çš„ key æ˜¯å¦ç›¸ç­‰ï¼Œ</p>
<p>å†æ¯”è¾ƒ type æ˜¯å¦ç›¸ç­‰ï¼Œéƒ½ç›¸åŒåˆ™åˆ¤å®šä¸ºåŒä¸€å…ƒç´ ï¼Œåˆ™å¤ç”¨åŸæ¥çš„å…ƒç´ ï¼Œå¦åˆ™é‡æ–°åˆ›å»ºï¼ˆcreateFiberFromFragmentï¼‰ã€‚</p>
<p>2.fiber éƒ½ä¸ºé“¾è¡¨ï¼Œå¦‚æ•°ç»„å½¢å¼è¿›è¡Œå¯¹æ¯”ï¼ŒupDateSlot ä¸­åŒä¸Šï¼Œå’Œ type ä¸€èµ·æ ‡è¯†å”¯ä¸€æ€§æ¥æ›´æ–°èŠ‚ç‚¹ã€‚</p>
<p>3.fiber æ‹¿å­å…ƒç´ åªèƒ½æ‹¿åˆ°ç¬¬ä¸€ä¸ªï¼Œå¦‚æœè¿›è¡Œä¸¤ä¸ªæ•°ç»„å¯¹æ¯”ï¼Œreact çš„ diff ç®—æ³•ä¸­æä¾›äº† mapRemainingChildren æ–¹æ³•ï¼Œ</p>
<p>ç”¨ key å’Œ fiber å½“ä½œæ­¤æ–¹æ³•çš„ keyï¼Œvalueï¼ŒæŠŠé“¾è¡¨ç»“æ„å˜æˆäº† map å›¾ï¼Œè·å–èŠ‚ç‚¹ç›´æ¥ç”¨ key é€šè¿‡ get å°±èƒ½å¾—åˆ°ï¼Œåˆ é™¤åŒç†ã€‚</p>
<hr>
<h4 id="vueå’Œreactçš„keyå¯¹æ¯”"><a href="#vueå’Œreactçš„keyå¯¹æ¯”" class="headerlink" title="vueå’Œreactçš„keyå¯¹æ¯”"></a>vueå’Œreactçš„keyå¯¹æ¯”</h4><p><a target="_blank" rel="noopener" href="https://www.zhoulujun.cn/html/webfront/ECMAScript/vue/8295.html">https://www.zhoulujun.cn/html/webfront/ECMAScript/vue/8295.html</a></p>
<hr>
<h4 id="fiber"><a href="#fiber" class="headerlink" title="fiber"></a>fiber</h4><p> fiberåŸç† <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000039189408">https://segmentfault.com/a/1190000039189408</a></p>
<p> hookså’Œfiberçš„å…³ç³» <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/aXqPdPVxY4_D--dU3mILpQ">https://mp.weixin.qq.com/s/aXqPdPVxY4_D--dU3mILpQ</a></p>
<hr>
<h4 id="hooksçš„åŸç†"><a href="#hooksçš„åŸç†" class="headerlink" title="hooksçš„åŸç†"></a>hooksçš„åŸç†</h4><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/J0_PLrbVZMRAiwjWK2WDrw">https://mp.weixin.qq.com/s/J0_PLrbVZMRAiwjWK2WDrw</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/443264124">https://zhuanlan.zhihu.com/p/443264124</a></p>
<hr>
<h4 id="åˆæˆäº‹ä»¶"><a href="#åˆæˆäº‹ä»¶" class="headerlink" title="åˆæˆäº‹ä»¶"></a>åˆæˆäº‹ä»¶</h4><pre><code>1.äº‹ä»¶å§”æ‰˜ï¼šæŠŠæ‰€æœ‰äº‹ä»¶æ³¨å†Œåˆ°å¤–å±‚

2.æ˜ å°„è¡¨ï¼š æ ¹æ®æ˜ å°„è¡¨æœç´¢å½“å‰äº‹ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºåˆæˆäº‹ä»¶ï¼Œå†å¤„ç†ã€‚ReactDOMComponent.jsä¸­çš„registrationNameModulesï¼‰

ç”Ÿæˆæ˜ å°„è¡¨æµç¨‹åˆ†æï¼š

ReactDOMComponent.jsä¸­å¼•å…¥çš„ReactDOMClientInjectionå³äº‹ä»¶æ³¨å…¥çš„åœ°æ–¹ï¼ŒinjectEventPluginOrder(DOMEventPluginOrder)
è§„å®šæ’ä»¶é¡ºåºï¼ŒsetComponentTreeä¼ å…¥å‡½æ•°ã€‚injectEventPluginsByNameç®¡ç†äº”ç§äº‹ä»¶æ³¨å…¥ã€‚æŠŠæ‰€æœ‰äº‹ä»¶æ³¨å†Œåˆ°ä¸€ä¸ªå¤§çš„å¯¹è±¡ä¸­ï¼Œè¿™é‡Œçš„å¯¹è±¡
ä¹Ÿå°±æ˜¯å‰é¢äº”ç§äº‹ä»¶çš„å…¶ä¸­ä¸€ç§ï¼Œæ ¹æ®ä¸åŒåˆ†ç±»è¿›è¡Œæ³¨å†Œã€‚æ ¹æ®è¿™ä¸ªå¤§çš„å¯¹è±¡æ‰¾åˆ°å¯¹åº”keyï¼Œæœ€åæ´¾å‘æ‰¾åˆ°eventï¼Œeventæ¥æ”¶åˆ°çš„å‚æ•°åŒ…å«target,
ä¹Ÿå°±æ˜¯æ´¾å‘å¯¹è±¡ã€‚

injectEventPluginsByNameæ‰§è¡Œä¼šè§¦å‘recomputePluginOrderingï¼Œæœ€åæ‰§è¡ŒpublishEventForPluginã€‚åœ¨publishEventForPluginä¸­ï¼Œ
æ‰§è¡Œäº†publishRegistrationNameï¼Œæœ€ç»ˆåœ¨æ­¤äº‹ä»¶ä¸­èµ‹å€¼ç»™äº†registrationNameModulesï¼Œå½¢æˆæ˜ å°„è¡¨ã€‚

äº‹ä»¶çš„æ³¨å†Œï¼š

legacyListenToEventæ‰§è¡Œï¼Œå±‚å±‚è°ƒç”¨ï¼Œæœ€ç»ˆåˆ°è¾¾addTrappedEventListenerï¼Œå®Œæˆäº†äº‹ä»¶çš„æ³¨å†Œ</code></pre>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903988794671117">https://juejin.cn/post/6844903988794671117</a></p>
<hr>
<h4 id="Redux-æ£€æŸ¥ç‚¹"><a href="#Redux-æ£€æŸ¥ç‚¹" class="headerlink" title="Redux æ£€æŸ¥ç‚¹"></a>Redux æ£€æŸ¥ç‚¹</h4><p>åŸºæœ¬ç”¨æ³•<br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904200225161223">https://juejin.cn/post/6844904200225161223</a></p>
<p>1.createStore åˆ›å»º store</p>
<p>2.reducer åˆå§‹åŒ–ã€ä¿®æ”¹çŠ¶æ€å‡½æ•°</p>
<p>3.getState è·å–çŠ¶æ€å€¼</p>
<p>4.dispatch æäº¤æ›´æ–°</p>
<p>5.subcribe å˜æ›´è®¢é˜…</p>
<p>è€ƒç‚¹åˆé›†<br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6940942549305524238#heading-1">https://juejin.cn/post/6940942549305524238#heading-1</a></p>
<hr>
<h4 id="reduxçš„reducerä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸èƒ½ç›´æ¥ä¿®æ”¹åŸçŠ¶æ€ï¼Œè€Œè¿”å›ä¿®æ–°çŠ¶æ€å¯¹è±¡"><a href="#reduxçš„reducerä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸èƒ½ç›´æ¥ä¿®æ”¹åŸçŠ¶æ€ï¼Œè€Œè¿”å›ä¿®æ–°çŠ¶æ€å¯¹è±¡" class="headerlink" title="reduxçš„reducerä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸èƒ½ç›´æ¥ä¿®æ”¹åŸçŠ¶æ€ï¼Œè€Œè¿”å›ä¿®æ–°çŠ¶æ€å¯¹è±¡"></a>reduxçš„reducerä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸èƒ½ç›´æ¥ä¿®æ”¹åŸçŠ¶æ€ï¼Œè€Œè¿”å›ä¿®æ–°çŠ¶æ€å¯¹è±¡</h4><p>ç¬¬ä¸€ï¼Œä»æºç è§’åº¦ï¼Œå› ä¸ºreduxä¼šå¯¹reducerè¿”å›çš„çŠ¶æ€è¿›è¡Œå¼•ç”¨åœ°å€çš„æ¯”è¾ƒï¼Œä¸åŒæ‰æ›´æ–°ï¼Œæ‰€ä»¥ç›´æ¥ä¿®æ”¹æ—§çŠ¶æ€ä¸ä¼šæ›´æ–°ã€‚</p>
<p>ç¬¬äºŒï¼Œä»è®¾è®¡è§’åº¦ï¼Œå¦‚æœè¦çŸ¥é“reducerè¿”å›çš„çŠ¶æ€æ˜¯å¦æœ‰å˜åŒ–ï¼Œå¿…é¡»è¿›è¡ŒçŠ¶æ€å¯¹è±¡çš„æ·±åº¦æ¯”è¾ƒï¼Œè¿™æ ·æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ï¼Œæ‰€ä»¥ä»…è¿›è¡ŒçŠ¶æ€å¯¹è±¡å¼•ç”¨åœ°å€çš„æ¯”è¾ƒï¼Œç”±å¼€å‘è€…æ¥å†³å®šæ˜¯å¦æ›´æ–°ï¼Œè¿”å›æ–°çŠ¶æ€æ‰æ›´æ–°ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/q/1010000037662437">https://segmentfault.com/q/1010000037662437</a></p>
<hr>
<h4 id="å‡ ç§Hookçš„ä½¿ç”¨"><a href="#å‡ ç§Hookçš„ä½¿ç”¨" class="headerlink" title="å‡ ç§Hookçš„ä½¿ç”¨"></a>å‡ ç§Hookçš„ä½¿ç”¨</h4><p>hook çš„åŸºæœ¬æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; uaeState, useEffect &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default function HookPage(props) &#123;</span><br><span class="line">  &#x2F;&#x2F; å®šä¹‰ä¸€ä¸ªå«countçš„stateå˜é‡ï¼Œåˆå§‹åŒ–ä¸º0</span><br><span class="line">  const &#123;count, setCount&#125; &#x3D; useState(0)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h3&gt;HookPage&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;()&#x3D;&gt;setCount(count + 1)&#125;&gt;add&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Effect Hook</p>
<p>å¯åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œ</p>
<p>1.æ•°æ®è·å–ï¼ˆajaxï¼‰</p>
<p>2.è®¾ç½®è®¢é˜…ä»¥åŠæ‰‹åŠ¨æ›´æ”¹ React ç»„ä»¶ä¸­çš„ Dom</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; uaeState, useEffect &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default function HookPage(props) &#123;</span><br><span class="line">  &#x2F;&#x2F; å®šä¹‰ä¸€ä¸ªå«countçš„stateå˜é‡ï¼Œåˆå§‹åŒ–ä¸º0</span><br><span class="line">  const [count, setCount] &#x3D; useState(0)</span><br><span class="line">  const [date, setDate] &#x3D; useState(new Date())</span><br><span class="line">  &#x2F;&#x2F;å’ŒdidMountã€didUpdateç±»ä¼¼</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;æ¡ä»¶æ‰§è¡Œ</span><br><span class="line">  useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; åªéœ€è¦åœ¨countå‘ç”Ÿæ”¹å˜çš„æ—¶å€™æ‰§è¡Œ</span><br><span class="line">    document.title &#x3D; &#96;ç‚¹å‡»äº†$&#123;count&#125;æ¬¡&#96;</span><br><span class="line">  &#125;, [count])</span><br><span class="line"></span><br><span class="line">  useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; åªéœ€è¦åœ¨didMountçš„æ—¶å€™æ‰§è¡Œ</span><br><span class="line">    const timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">      setData(new Date())</span><br><span class="line">    &#125;, 1000)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æ¸…é™¤å®šæ—¶å™¨ï¼Œç±»ä¼¼willUnmount</span><br><span class="line">    return () &#x3D;&gt; clearInterval(timer)</span><br><span class="line"></span><br><span class="line">  &#125;, [])</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h3&gt;HookPage&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;()&#x3D;&gt;setCount(count + 1)&#125;&gt;add&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;p&gt;&#123;date.toLocaleTimeString()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="è‡ªå®šä¹‰-Hook-å’Œ-ä½¿ç”¨è§„åˆ™"><a href="#è‡ªå®šä¹‰-Hook-å’Œ-ä½¿ç”¨è§„åˆ™" class="headerlink" title="è‡ªå®šä¹‰ Hook å’Œ ä½¿ç”¨è§„åˆ™"></a>è‡ªå®šä¹‰ Hook å’Œ ä½¿ç”¨è§„åˆ™</h4><p>å®ç°ç»„ä»¶çš„çŠ¶æ€é€»è¾‘å…±ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; è‡ªå®šä¹‰ä¸€ä¸ªhookå‘½åè¦ä»¥useå¼€å¤´,</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h3&gt;HookPage&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;()&#x3D;&gt;setCount(count + 1)&#125;&gt;add&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;p&gt;&#123;useClock().toLocaleTimeString()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  function useClock() &#123;</span><br><span class="line">    const [date, setDate] &#x3D; useState(new Date())</span><br><span class="line">    useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; åªéœ€è¦åœ¨didMountçš„æ—¶å€™æ‰§è¡Œ</span><br><span class="line">      const timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        setData(new Date())</span><br><span class="line">      &#125;, 1000)</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F; æ¸…é™¤å®šæ—¶å™¨ï¼Œç±»ä¼¼willUnmount</span><br><span class="line">      return () &#x3D;&gt; clearInterval(timer)</span><br><span class="line"></span><br><span class="line">    &#125;, [])</span><br><span class="line">    return date</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ Hook çš„é¢å¤–è§„åˆ™ï¼š</p>
<pre><code>1.åªèƒ½åœ¨å‡½æ•°æœ€å¤–å±‚è°ƒç”¨hookï¼Œä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨

2.åªèƒ½åœ¨Reactçš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨Hookã€‚ä¸è¦åœ¨å…¶ä»–jså‡½æ•°ä¸­è°ƒç”¨ï¼ˆåœ¨è‡ªå®šä¹‰Hookä¸­å¯ä»¥è°ƒç”¨ï¼‰</code></pre>
<hr>
<h4 id="Hook-çš„-api"><a href="#Hook-çš„-api" class="headerlink" title="Hook çš„ api"></a>Hook çš„ api</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42335214/article/details/111746800">https://blog.csdn.net/qq_42335214/article/details/111746800</a></p>
<h5 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h5><p>æŠŠåˆ›å»ºå‡½æ•°å’Œä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ useMemoï¼Œå®ƒä»…ä¼šåœ¨æŸä¸ªä¾èµ–æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— memoized çš„å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; uaeState, useEffect, useMemo &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default function useMemoPage(props) &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState(0)</span><br><span class="line"></span><br><span class="line">  const expensive &#x3D; useMemo(() &#x3D;&gt; &#123;</span><br><span class="line">    let sum &#x3D; 0</span><br><span class="line">    for(let i &#x3D; 0; i &lt; count; i++) &#123;</span><br><span class="line">      sum +&#x3D; i</span><br><span class="line">    &#125;</span><br><span class="line">    return sum</span><br><span class="line">    &#x2F;&#x2F; åªæœ‰countæ”¹å˜æ—¶ï¼Œå½“å‰å‡½æ•°æ‰ä¼šé‡æ–°æ‰§è¡Œ</span><br><span class="line">  &#125;, [count])</span><br><span class="line">  const [value, setValue] &#x3D; useState(&#39;&#39;)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h3&gt;useMemoPage&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;expensive: &#123;expensive()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;()&#x3D;&gt;setCount(count + 1)&#125;&gt;add&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;input value&#x3D;&#123;value&#125; onChange&#x3D;&#123;event&#x3D;&gt;setValue(event.target.value)&#125;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h5><p>æŠŠå†…è”å›è°ƒå‡½æ•°ä»¥åŠä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ useCallbackï¼Œå®ƒå°†è¿”å›è¯¥å›è°ƒå‡½æ•°çš„ memoized ç‰ˆæœ¬ï¼Œè¯¥å›è°ƒå‡½æ•°ä»…åœ¨æŸä¾èµ–é¡¹æ”¹å˜æ—¶æ‰ä¼šæ›´æ–°ã€‚<br>å½“ä½ æŠŠå›è°ƒå‡½æ•°ä¼ é€’ç»™ç»è¿‡ä¼˜åŒ–çš„å¹¶ä½¿ç”¨å¼•ç”¨ç›¸ç­‰æ€§å»é¿å…éå¿…è¦æ¸²æŸ“ï¼ˆå¦‚ shouldComponentUpdateï¼‰çš„å­ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; uaeState, useEffect, PureComponent &#125; from &quot;react&quot;;</span><br><span class="line"></span><br><span class="line">export default function useCallbackPage(props) &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState(0)</span><br><span class="line"></span><br><span class="line">  const addClick &#x3D; useCallback(() &#x3D;&gt; &#123;</span><br><span class="line">    let sum &#x3D; 0</span><br><span class="line">    for(let i &#x3D; 0; i &lt; count; i++) &#123;</span><br><span class="line">      sum +&#x3D; i</span><br><span class="line">    &#125;</span><br><span class="line">    return sum</span><br><span class="line">  &#125;, [count])</span><br><span class="line">  const [value, setValue] &#x3D; useState(&#39;&#39;)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h3&gt;useCallbackPage&lt;&#x2F;h3&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;expensive: &#123;expensive()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;()&#x3D;&gt;setCount(count + 1)&#125;&gt;add&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;input value&#x3D;&#123;value&#125; onChange&#x3D;&#123;event&#x3D;&gt;setValue(event.target.value)&#125;&#x2F;&gt;</span><br><span class="line">      &lt;Child addClick&#x3D;&#123;addClick&#125;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Child extends PureComponent &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123;addClick&#125; &#x3D; this.props</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h3&gt;Child&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;button onClick&#x3D;&#123;()&#x3D;&gt;console.log(addClick())&#125;&gt;add&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="hooksæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ"><a href="#hooksæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="hooksæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ"></a>hooksæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903921442373639">https://juejin.cn/post/6844903921442373639</a></p>
<hr>
<h4 id="reactä¼˜åŒ–ç‚¹"><a href="#reactä¼˜åŒ–ç‚¹" class="headerlink" title="reactä¼˜åŒ–ç‚¹"></a>reactä¼˜åŒ–ç‚¹</h4><p>1.PureComponent/ShouldComponentUpdate<br>2.React.memo<br>3.React.useMemo<br>4.React.useCallback</p>
<p><a target="_blank" rel="noopener" href="https://github.com/brickspert/blog/issues/36">https://github.com/brickspert/blog/issues/36</a></p>
<hr>
<h4 id="componentå’ŒpureComponent"><a href="#componentå’ŒpureComponent" class="headerlink" title="componentå’ŒpureComponent"></a>componentå’ŒpureComponent</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903864341102599">https://juejin.cn/post/6844903864341102599</a></p>
<hr>
<h4 id="refs-ä½¿ç”¨æ–¹å¼"><a href="#refs-ä½¿ç”¨æ–¹å¼" class="headerlink" title="refs ä½¿ç”¨æ–¹å¼"></a>refs ä½¿ç”¨æ–¹å¼</h4><p>1.createRef()æŒ‚åˆ°åŸç”Ÿ dom èŠ‚ç‚¹æˆ–è€… class ç»„ä»¶</p>
<p>2.function ç»„ä»¶ä½¿ç”¨ ref éœ€è¦ç”¨ forwardRef()å®ç°è½¬å‘æ“ä½œ</p>
<p>3.ref å¯ä»¥æ˜¯ callback å½¢å¼ï¼ˆå°½é‡ä¸ä½¿ç”¨å†…è”å‡½æ•°ï¼‰</p>
<p>4.string æ–¹å¼ï¼ˆè¿‡æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼‰</p>
<hr>
<h4 id="react-æ ¸å¿ƒ-api"><a href="#react-æ ¸å¿ƒ-api" class="headerlink" title="react æ ¸å¿ƒ api"></a>react æ ¸å¿ƒ api</h4><pre><code>webpack+babelç¼–è¯‘æ—¶ï¼Œæ›¿æ¢JSXä¸º React.createElement(type,props,...children)ï¼Œå®é™…ä¸Šï¼Œè½¬æ¢è¿‡ç¨‹éœ€è¦ç»è¿‡â¼€ä¸€ä¸ªdiffè¿‡ç¨‹ï¼Œ
â½æ¯”å¯¹å‡ºå®é™…æ›´æ›´ æ–°è¡¥ä¸æ“ä½œdom

React.createElement: åˆ›å»ºè™šæ‹ŸDOMï¼Œæ‰§è¡Œç»“æŸåå¾—åˆ°ä¸€ä¸ªJSå¯¹è±¡å³ vdomï¼Œå®ƒèƒ½å¤Ÿå®Œæ•´æè¿°domç»“æ„

React.Component: å®ç°è‡ªå®šä¹‰ç»„ä»¶

ReactDOM.render: æ¸²æŸ“çœŸå®DOM

  ReactDOM.render(element, container[, callback])ï¼šå½“é¦–æ¬¡è°ƒç”¨æ—¶ï¼Œå®¹å™¨èŠ‚ç‚¹é‡Œçš„æ‰€æœ‰ DOM å…ƒç´ éƒ½ä¼šè¢«æ›¿æ¢ï¼Œ åç»­çš„
  è°ƒç”¨åˆ™ä¼šä½¿ç”¨ React çš„ DOM å·®åˆ†ç®—æ³•(DOM diffing algorithm)è¿›â¾â¾¼æ•ˆçš„æ›´æ–°ã€‚å¦‚æœæä¾›äº†å¯é€‰çš„å›è°ƒå‡½æ•°ï¼Œè¯¥å›è°ƒå°†
  åœ¨ç»„ä»¶è¢«æ¸²æŸ“æˆ–æ›´æ–°ä¹‹åè¢«æ‰§è¡Œã€‚

  ReactDOM.render(vdom,container)å¯ä»¥å°†vdomè½¬æ¢ä¸º domå¹¶è¿½åŠ åˆ°containerä¸­</code></pre>
<hr>
<h4 id="reactå®ç°åŒå‘ç»‘å®š"><a href="#reactå®ç°åŒå‘ç»‘å®š" class="headerlink" title="reactå®ç°åŒå‘ç»‘å®š"></a>reactå®ç°åŒå‘ç»‘å®š</h4><p>ä¸€ã€é€šè¿‡äº‹ä»¶å¯¹è±¡è·å–å€¼</p>
<p>  event.target.valueå¯ä»¥è·å–åˆ°inputæ¡†çš„å€¼ã€‚</p>
<p>  å…·ä½“å®ç°æ­¥éª¤å¯æ‹†åˆ†ä¸ºï¼š<br>  1.ç»™inputå®šä¹‰valueå±æ€§ï¼Œå€¼ä¸ºstateçš„msgï¼Œå³value={this.state.msg}ï¼Œæ˜¯ä¸ºäº†ä¿è¯åˆå§‹é¡µé¢æ—¶ï¼Œä¸¤å€¼ç›¸ç­‰ã€‚<br>  2.ç»™inputå®šä¹‰onChangeå±æ€§ï¼Œå€¼ä¸ºå½“å‰Reactç»„ä»¶é‡Œçš„æ–¹æ³•inputChangeï¼Œå³onChange={this.inputChange}ã€‚<br>  3.inputChangeæ–¹æ³•ä¸­é€šè¿‡event.target.valueæ–¹æ³•è·å–åˆ°å½“å‰inputçš„å€¼ï¼Œå¹¶èµ‹å€¼ç»™stateçš„msgã€‚</p>
<p>äºŒã€é€šè¿‡refæ¥è·å–</p>
<p>  refå¯ä»¥è·å–åˆ°å½“å‰å…ƒç´ çš„DOMèŠ‚ç‚¹ã€‚</p>
<p>  å…·ä½“å®ç°æ­¥éª¤å¯æ‹†åˆ†ä¸ºï¼š<br>  1.ç»™inputå®šä¹‰valueå±æ€§ï¼Œå€¼ä¸ºstateçš„msgï¼Œå³value={this.state.msg}ï¼Œæ˜¯ä¸ºäº†ä¿è¯åˆå§‹é¡µé¢æ—¶ï¼Œä¸¤å€¼ç›¸ç­‰ã€‚<br>  2.ç»™inputå®šä¹‰refå±æ€§ï¼Œå³ref=â€msgInputâ€ã€‚<br>  3.inputChangeæ–¹æ³•ä¸­é€šè¿‡this.refs.msgInputè·å–åˆ°å½“å‰inputçš„DOMèŠ‚ç‚¹ï¼Œå¹¶èµ‹å€¼ç»™stateçš„msgã€‚</p>
<hr>
<h4 id="reactå®ç°æ’æ§½"><a href="#reactå®ç°æ’æ§½" class="headerlink" title="reactå®ç°æ’æ§½"></a>reactå®ç°æ’æ§½</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6877115720820326407">https://juejin.cn/post/6877115720820326407</a></p>
<hr>
<h4 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h4><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/24776678">https://zhuanlan.zhihu.com/p/24776678</a></p>
<hr>
<h4 id="react-router-çš„ä¸‰ç§æ¸²æŸ“æ–¹å¼"><a href="#react-router-çš„ä¸‰ç§æ¸²æŸ“æ–¹å¼" class="headerlink" title="react-router çš„ä¸‰ç§æ¸²æŸ“æ–¹å¼"></a>react-router çš„ä¸‰ç§æ¸²æŸ“æ–¹å¼</h4><p>Route æ¸²æŸ“çš„ä¼˜å…ˆçº§ children &gt; component &gt; render</p>
<p>ä¸‰ç§æ–¹å¼äº’æ–¥ï¼Œåªèƒ½ç”¨ä¸€ç§</p>
<p>children: func<br>æ— è®º location æ˜¯å¦åŒ¹é…éƒ½ä¼šæ¸²æŸ“</p>
<p>render: func<br>location åŒ¹é…æ—¶æ‰ä¼šæ¸²æŸ“</p>
<p>component: component<br>location åŒ¹é…æ—¶æ‰ä¼šæ¸²æŸ“</p>
<p>404 é¡µé¢: è®¾å®šä¸€ä¸ªæ²¡æœ‰ path çš„è·¯ç”±åœ¨è·¯ç”±åˆ—è¡¨æœ€åï¼Œè¡¨ç¤ºä¸€å®šåŒ¹é…ï¼Œæ ¹è·¯ç”±è¦æ·»åŠ  exactï¼Œå®ç°ç²¾ç¡®åŒ¹é…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Switch&gt;</span><br><span class="line">  &lt;Route&gt;...&lt;&#x2F;Route&gt; &#x2F;&#x2F; å¸¸è§„è·¯ç”±</span><br><span class="line">  &lt;Route component&#x3D;&#123;EmptyPage&#125;&gt;&lt;&#x2F;Route&gt; &#x2F;&#x2F; 404è·¯ç”±</span><br><span class="line">&lt;&#x2F;Switch&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="react-router-çš„å®ç°åŸç†"><a href="#react-router-çš„å®ç°åŸç†" class="headerlink" title="react-router çš„å®ç°åŸç†"></a>react-router çš„å®ç°åŸç†</h4><p>å®¢æˆ·ç«¯è·¯ç”±å®ç°çš„æ€æƒ³ï¼š</p>
<p>åŸºäº hash çš„è·¯ç”±ï¼šé€šè¿‡ç›‘å¬hashchangeäº‹ä»¶ï¼Œæ„ŸçŸ¥ hash çš„å˜åŒ–</p>
<p>æ”¹å˜ hash å¯ä»¥ç›´æ¥é€šè¿‡ location.hash=xxx</p>
<p>åŸºäº H5 history è·¯ç”±ï¼š</p>
<p>æ”¹å˜ url å¯ä»¥é€šè¿‡ history.pushState å’Œ resplaceState ç­‰ï¼Œä¼šå°†URLå‹å…¥å †æ ˆï¼ŒåŒæ—¶èƒ½å¤Ÿåº”ç”¨ history.go() ç­‰ API<br>ç›‘å¬ url çš„å˜åŒ–å¯ä»¥é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶è§¦å‘å®ç°</p>
<p>react-router å®ç°çš„æ€æƒ³ï¼š</p>
<p>åŸºäº history åº“æ¥å®ç°ä¸Šè¿°ä¸åŒçš„å®¢æˆ·ç«¯è·¯ç”±å®ç°æ€æƒ³ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¿å­˜å†å²è®°å½•ç­‰ï¼Œç£¨å¹³æµè§ˆå™¨å·®å¼‚ï¼Œä¸Šå±‚æ— æ„ŸçŸ¥<br>é€šè¿‡ç»´æŠ¤çš„åˆ—è¡¨ï¼Œåœ¨æ¯æ¬¡ URL å‘ç”Ÿå˜åŒ–çš„å›æ”¶ï¼Œé€šè¿‡é…ç½®çš„ è·¯ç”±è·¯å¾„ï¼ŒåŒ¹é…åˆ°å¯¹åº”çš„ Componentï¼Œå¹¶ä¸” render</p>
<hr>
<h4 id="react-routerçš„è¿ç”¨"><a href="#react-routerçš„è¿ç”¨" class="headerlink" title="react-routerçš„è¿ç”¨"></a>react-routerçš„è¿ç”¨</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6941546135827775525#heading-70">https://juejin.cn/post/6941546135827775525#heading-70</a></p>
<p>è·³è½¬çš„å‡ ç§æ–¹å¼</p>
<pre><code>1. paramså½¢å¼ï¼Œè·¯ç”±è·³è½¬åï¼Œå‚æ•°ä¼šæ˜¾ç¤ºåœ¨åœ°å€æ 

è·³è½¬çš„æ–¹æ³•æ˜¯ä½¿ç”¨history.push(&#123;pathname: &#39;/personal&#39;, search: &#39;test=22222&#39;&#125;)ï¼Œå…¶ä¸­searché”®å¯¹åº”çš„å€¼å°±æ˜¯æ‹¼æ¥åœ¨åœ°å€æ çš„æ•°æ®

æ¥æ”¶çš„æ–¹æ³•ã€‚æ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨useLocationä¸­çš„searchè·å–

2.ä½¿ç”¨stateçš„å½¢å¼ï¼Œé¡µé¢åˆ·æ–°ä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œå¹¶ä¸”åœ°å€æ ä¹Ÿçœ‹ä¸åˆ°æ•°æ®

è·³è½¬çš„æ–¹æ³•æ˜¯ä½¿ç”¨history.push(&#123;pathname: &#39;/personal&#39;, state: &#123;test: &#39;dashboard&#39;&#125;&#125;)ï¼Œå…¶ä¸­searché”®å¯¹åº”çš„å€¼å°±æ˜¯æ‹¼æ¥åœ¨åœ°å€æ çš„æ•°æ®

æ¥æ”¶çš„æ–¹æ³•ã€‚æ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨useLocationä¸­çš„searchè·å–</code></pre>
<hr>
<h4 id="react-routerçš„ä¸¤ç§æ¨¡å¼"><a href="#react-routerçš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="react-routerçš„ä¸¤ç§æ¨¡å¼"></a>react-routerçš„ä¸¤ç§æ¨¡å¼</h4><p>React-Router æ”¯æŒä½¿ç”¨ hashï¼ˆå¯¹åº” HashRouterï¼‰å’Œ browserï¼ˆå¯¹åº” BrowserRouterï¼‰ ä¸¤ç§è·¯ç”±è§„åˆ™ï¼Œ react-router-dom æä¾›äº† BrowserRouter å’Œ HashRouter ä¸¤ä¸ªç»„ä»¶æ¥å®ç°åº”ç”¨çš„ UI å’Œ URL åŒæ­¥ï¼š</p>
<p>BrowserRouter åˆ›å»ºçš„ URL æ ¼å¼ï¼šxxx.com/path<br>HashRouter åˆ›å»ºçš„ URL æ ¼å¼ï¼šxxx.com/#/path</p>
<p>ï¼ˆ1ï¼‰BrowserRouter<br>å®ƒä½¿ç”¨ HTML5 æä¾›çš„ history APIï¼ˆpushStateã€replaceState å’Œ popstate äº‹ä»¶ï¼‰æ¥ä¿æŒ UI å’Œ URL çš„åŒæ­¥ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼ŒBrowserRouter æ˜¯ä½¿ç”¨ HTML 5 çš„ history API æ¥æ§åˆ¶è·¯ç”±è·³è½¬çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;BrowserRouter</span><br><span class="line">    basename&#x3D;&#123;string&#125;</span><br><span class="line">    forceRefresh&#x3D;&#123;bool&#125;</span><br><span class="line">    getUserConfirmation&#x3D;&#123;func&#125;</span><br><span class="line">    keyLength&#x3D;&#123;number&#125;</span><br><span class="line">&#x2F;&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­çš„å±æ€§å¦‚ä¸‹ï¼š</p>
<p>basename æ‰€æœ‰è·¯ç”±çš„åŸºå‡† URLã€‚basename çš„æ­£ç¡®æ ¼å¼æ˜¯å‰é¢æœ‰ä¸€ä¸ªå‰å¯¼æ–œæ ï¼Œä½†ä¸èƒ½æœ‰å°¾éƒ¨æ–œæ ï¼›</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;BrowserRouter basename&#x3D;&quot;&#x2F;calendar&quot;&gt;</span><br><span class="line">    &lt;Link to&#x3D;&quot;&#x2F;today&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;BrowserRouter&gt;</span><br></pre></td></tr></table></figure>
<p>ç­‰åŒäº</p>
<p><code>&lt;a href=&quot;/calendar/today&quot; /&gt;</code></p>
<p>forceRefresh å¦‚æœä¸º trueï¼Œåœ¨å¯¼èˆªçš„è¿‡ç¨‹ä¸­æ•´ä¸ªé¡µé¢å°†ä¼šåˆ·æ–°ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰åœ¨ä¸æ”¯æŒ HTML5 history API çš„æµè§ˆå™¨ä¸­ä½¿ç”¨æ­¤åŠŸèƒ½ï¼›<br>getUserConfirmation ç”¨äºç¡®è®¤å¯¼èˆªçš„å‡½æ•°ï¼Œé»˜è®¤ä½¿ç”¨ window.confirmã€‚ä¾‹å¦‚ï¼Œå½“ä» /a å¯¼èˆªè‡³ /b æ—¶ï¼Œä¼šä½¿ç”¨é»˜è®¤çš„ confirm å‡½æ•°å¼¹å‡ºä¸€ä¸ªæç¤ºï¼Œç”¨æˆ·ç‚¹å‡»ç¡®å®šåæ‰è¿›è¡Œå¯¼èˆªï¼Œå¦åˆ™ä¸åšä»»ä½•å¤„ç†ï¼›<br>KeyLength ç”¨æ¥è®¾ç½® Location.Key çš„é•¿åº¦ã€‚</p>
<p>ï¼ˆ2ï¼‰HashRouter<br>ä½¿ç”¨ URL çš„ hash éƒ¨åˆ†ï¼ˆå³ window.location.hashï¼‰æ¥ä¿æŒ UI å’Œ URL çš„åŒæ­¥ã€‚ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼ŒHashRouter æ˜¯é€šè¿‡ URL çš„ hash å±æ€§æ¥æ§åˆ¶è·¯ç”±è·³è½¬çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;HashRouter</span><br><span class="line">    basename&#x3D;&#123;string&#125;</span><br><span class="line">    getUserConfirmation&#x3D;&#123;func&#125;</span><br><span class="line">    hashType&#x3D;&#123;string&#125;  </span><br><span class="line">&#x2F;&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶å‚æ•°å¦‚ä¸‹ï¼š</p>
<p>basename, getUserConfirmation å’Œ BrowserRouter åŠŸèƒ½ä¸€æ ·ï¼›<br>hashType window.location.hash ä½¿ç”¨çš„ hash ç±»å‹ï¼Œæœ‰å¦‚ä¸‹å‡ ç§ï¼š</p>
<p>slash - åé¢è·Ÿä¸€ä¸ªæ–œæ ï¼Œä¾‹å¦‚ #/ å’Œ #/sunshine/lollipopsï¼›<br>noslash - åé¢æ²¡æœ‰æ–œæ ï¼Œä¾‹å¦‚ # å’Œ #sunshine/lollipopsï¼›<br>hashbang - Google é£æ ¼çš„ ajax crawlableï¼Œä¾‹å¦‚ #!/ å’Œ #!/sunshine/lollipopsã€‚</p>

            <br />
            <p class="meta">
                
            </p>
        </div>

        <div class="col-sm-3">
             
<span><b> TL;DR</b></span>
<p>
	Yet another hexo theme.
</p>
<hr />


<span><b> TL;DR 2</b></span>
<p>
	No, not another one :/
</p>
<hr />

 

<span
	><a href="https://twitter.com/hexojs" target="_blank" rel="noopener"
		><b
			><i class="fab fa-twitter-square"></i>
			<i class="fas fa-at"></i>
			hexojs</b
		></a
	></span
>
<br />
<a class="twitter-timeline" data-height="800" data-dnt="true" data-chrome="nofooter transparent noheader noborders " target="_blank" rel="noopener" href="https://twitter.com/hexojs?ref_src=twsrc%5Etfw"></a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


        </div>
    </div>
</div>
<!-- Menu fade on scroll -->
<script>
    var isScrolling;
    var prevScrollpos = window.pageYOffset;
    window.addEventListener(
        'scroll',
        function(event) {
            window.clearTimeout(isScrolling);
            isScrolling = setTimeout(function() {
                var currentScrollPos = window.pageYOffset;
                if (prevScrollpos > currentScrollPos) {
                    $('#navbar').slideDown();
                } else {
                    $('#navbar').slideUp();
                }
                prevScrollpos = currentScrollPos;
            }, 66);
        },
        false
    );
</script>


<a class="float-left gradient btn paginationbtn" href="/2022/04/09/storage/"><i class="fas fa-chevron-left"></i></a>


<a class="float-right gradient btn paginationbtn" href="/2022/04/09/vue/"><i class="fas fa-chevron-right"></i></a>

    </main>
    <!-- Footer -->
    <footer class="page-footer">
  <div class="container">
    <div class="social-icons">
      
      <a href="https://hexo.io/" title="Hexo.io" target="_blank" rel="noopener" class="fas fa-home"></a>
      
      <a href="https://twitter.com/hexojs" title="@hexojs" target="_blank" rel="noopener" class="fab fa-twitter"></a>
      
      <a href="https://github.com/RandomAdversary/Gradient/issues" title="Report issue" target="_blank" rel="noopener" class="fas fa-bug"></a>
      
    </div>
  </div>
</footer>
    <!-- After footer scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
</body>

</html>