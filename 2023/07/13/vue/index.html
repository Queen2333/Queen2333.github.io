<html>
<!-- Head tag -->
<head>
  <meta charset="UTF-8">

  
  <title>
    å‰ç«¯æ¶æ„--Vueç»¼åˆçŸ¥è¯†ç‚¹ |
    Majesty&#39;s blog
  </title>
  


  <meta name="description" content="">
  <meta name="author" content="Alex">
  <meta property="og:title" content="å‰ç«¯æ¶æ„--Vueç»¼åˆçŸ¥è¯†ç‚¹" />
  <meta property="og:description" content="" />
  <meta property='og:site_name' content='Majesty&#39;s blog' />
  <meta property="og:image" content="http://example.com/img/default.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:title" content="å‰ç«¯æ¶æ„--Vueç»¼åˆçŸ¥è¯†ç‚¹" />

  <meta name="twitter:image" content="http://example.com/img/default.jpg" />

  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous">
  
<link rel="stylesheet" href="/css/style.css">


<meta name="generator" content="Hexo 5.4.2"></head>

<body>
    <!-- Menu -->
    <nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark page-navbar gradient">
  <div class="container">
    <a class="navbar-brand logo" href="http://example.com">
      Majesty&#39;s blog</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item item">
          
        <li class="nav-item item">
          <a class="nav-link" href="/">
            Home</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" href="/archives">
            ğŸ—‚ï¸Archives</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" target="_blank" rel="noopener" href="https://hexo.io/">
            Hexo</a>
        </li>
        
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="page main-page">
        <div class="container blogPost">
    <div class="row">
        <div class="col-sm-9 px-md-5">
            <h2 class="blog-post-title">
                å‰ç«¯æ¶æ„--Vueç»¼åˆçŸ¥è¯†ç‚¹
            </h2>
            <p class="meta">
                <i class="far fa-clock"></i>
                2023-07-13 
            </p>
            <!-- Content -->
            <h4 id="Vue-ä¸­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡"><a href="#Vue-ä¸­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="Vue ä¸­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡"></a>Vue ä¸­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</h4><p>é˜è¿°è¿‡ç¨‹ï¼ˆ1.åˆ†å‡ ç±»ï¼›2.ä½¿ç”¨ï¼›3.é€‰ç”¨ï¼‰</p>
<p>æ–¹æ³•ï¼š</p>
<p>1.props(çˆ¶å­ç»„ä»¶ç®€å•æ•°æ®ä¼ é€’)</p>
<p>2.$emit/$on äº‹ä»¶æ€»çº¿</p>
<p>3.vuex(éœ€è¦ä¿å­˜çŠ¶æ€)</p>
<p>4.$parent/$children</p>
<p>5.$attrs/$listeners/$root</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Kratial/article/details/108825249">https://blog.csdn.net/Kratial/article/details/108825249</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qdcainiao/article/details/119741534">https://blog.csdn.net/qdcainiao/article/details/119741534</a></p>
<p>6.provide/inject</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yw00yw/article/details/107341934">https://blog.csdn.net/yw00yw/article/details/107341934</a></p>
<p>åˆ†ä¸‰ç±»</p>
<p>1.çˆ¶å­ç»„ä»¶é€šä¿¡</p>
<p>2.å…„å¼Ÿç»„ä»¶é€šä¿¡</p>
<p>3.è·¨å±‚ç»„ä»¶é€šä¿¡</p>
<hr>
<h4 id="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•"><a href="#çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•" class="headerlink" title="çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•"></a>çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$refs.child.func()</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="Vue-çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•"><a href="#Vue-çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="Vue çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•"></a>Vue çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•</h4><p>1.è·¯ç”±æ‡’åŠ è½½import</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const router &#x3D; new vueRouter(&#123;</span><br><span class="line">    routes: [</span><br><span class="line">        &#123; path: &#39;&#x2F;foo&#39;, component:() &#x3D;&gt; import(&#39;.&#x2F;Foo.vue&#39;)&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>2.keep-alive ç¼“å­˜é¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&gt;</span><br><span class="line">        &lt;keep-alive&gt;</span><br><span class="line">            &lt;router-view &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;keep-alive&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>3.ä½¿ç”¨ v-show å¤ç”¨ DOM</p>
<p>4.v-for éå†é¿å…åŒæ—¶ä½¿ç”¨ v-if(é€‰é¡¹æœ‰åˆ¤æ–­ç›´æ¥æ”¾åœ¨è®¡ç®—å±æ€§)</p>
<p>5.é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–<br>.çº¯æ•°æ®å±•ç¤ºï¼Œä¸ä¼šæœ‰ä»»ä½•å˜åŒ–ï¼Œå°±ä¸éœ€è¦åšå“åº”åŒ–</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    data: () &#x3D;&gt; (&#123;</span><br><span class="line">        users: []</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">async created() &#123;</span><br><span class="line">    const users &#x3D; await axios.get(&quot;&#x2F;api&#x2F;users&quot;);</span><br><span class="line">    this.users &#x3D; object.freeze(users);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>.å¦‚æœæ˜¯å¤§æ•°æ®é•¿åˆ—è¡¨ï¼Œå¯é‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼Œåªæ¸²æŸ“å°‘éƒ¨åˆ†åŒºåŸŸçš„å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;recycle-scroller class&#x3D;&quot;items&quot; :items&#x3D;&quot;items&quot; :item-size&#x3D;&quot;24&quot;&gt;</span><br><span class="line">    &lt;template v-slot&#x3D;&quot;&#123;item&#125;&quot;&gt;</span><br><span class="line">        &lt;FetchItemView :item&#x3D;&quot;item&quot; @vote&#x3D;&quot;voteItem(item)&quot;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;recycle-scroller&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†é¡µï¼šåˆ†æ‰¹åŠ è½½å’Œæ¸²æŸ“æ•°æ®ã€‚<br>æ‡’åŠ è½½ï¼šå¯¹å›¾ç‰‡å’Œå¤šåª’ä½“å†…å®¹ä½¿ç”¨æ‡’åŠ è½½æŠ€æœ¯ã€‚<br>ç»„ä»¶åˆ†ç‰‡æ¸²æŸ“ï¼šåˆ©ç”¨ requestAnimationFrame ç­‰æœºåˆ¶ã€‚</p>
<p>6.äº‹ä»¶çš„é”€æ¯</p>
<p>Vue ç»„ä»¶é”€æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨è§£ç»‘å®ƒçš„å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨ï¼Œä½†ä»…é™äºç»„ä»¶æœ¬èº«çš„äº‹ä»¶,å’Œç»„ä»¶å…³ç³»ä¸å¤§åˆ™éœ€è¦æ‰‹åŠ¨åœ¨ beforeDestory æ¸…é™¤</p>
<p>7.å›¾ç‰‡æ‡’åŠ è½½</p>
<p>é¡µé¢å†…æœªå‡ºç°åœ¨å¯è§†åŒºåŸŸå†…çš„å›¾ç‰‡å…ˆä¸åšåŠ è½½ï¼Œæ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåå†åŠ è½½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img v-lazy&#x3D;&quot;&#x2F;static&#x2F;img&#x2F;1.png&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>8.ç¬¬ä¸‰æ–¹æ’ä»¶æŒ‰éœ€å¼•å…¥</p>
<p>9.æ— çŠ¶æ€çš„ç»„ä»¶æ ‡è®°ä¸ºå‡½æ•°å¼ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;tempalte functional&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div v-if&#x3D;&quot;props.value&quot; class&#x3D;&quot;on&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;section v-else class&#x3D;&quot;off&quot;&gt;&lt;&#x2F;section&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props: [&#39;value&#39;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>10.å­ç»„ä»¶åˆ†å‰²</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;childComp&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        childComp: &#123;</span><br><span class="line">            methods: &#123;</span><br><span class="line">                heavy () &#123; &#x2F;*è€—æ—¶ä»»åŠ¡*&#x2F;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            render (h) &#123;</span><br><span class="line">                return h(&#39;div&#39;, this.heavy())</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>11.å˜é‡æœ¬åœ°åŒ–</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &#123;&#123; result &#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; heavy &#125; from &#39;@&#x2F;utils</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    props: [&#39;start&#39;],</span><br><span class="line">    computed: &#123;</span><br><span class="line">        base () &#123; return 42 &#125;,</span><br><span class="line">        result () &#123;</span><br><span class="line">            const base &#x3D; this.base &#x2F;&#x2F; ä¸è¦é¢‘ç¹å¼•ç”¨this.base</span><br><span class="line">            let result &#x3D; this.start</span><br><span class="line">            for (let i &#x3D; 0; i &lt; 1000; i++) &#123;</span><br><span class="line">                result +&#x3D; heavy(base)</span><br><span class="line">            &#125;</span><br><span class="line">            return result</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>12.SSR</p>
<pre><code>SSRæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼šåœ¨åå°å°†vueå®ä¾‹æ¸²æŸ“ä¸ºHTMLå­—ç¬¦ä¸²ç›´æ¥è¿”å›ï¼Œåœ¨å‰ç«¯æ¿€æ´»ä¸ºäº¤äº’ç¨‹åºã€‚

å®ç°åŸç†ï¼š

å®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨
æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“ï¼Œä½¿ç”¨è§†å›¾ã€æ¨¡æ¿å¼•æ“ç­‰æ‹¼æ¥æˆhtmlå­—ç¬¦ä¸²ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯
å®¢æˆ·ç«¯æ¸²æŸ“html
ä¼˜ç‚¹ï¼š

ç½‘é¡µå†…å®¹åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“å®Œæˆï¼Œä¸€æ¬¡æ€§ä¼ è¾“åˆ°æµè§ˆå™¨ï¼Œæ‰€ä»¥é¦–å±åŠ è½½é€Ÿåº¦éå¸¸å¿«
æœ‰åˆ©äºSEOï¼Œå› ä¸ºæœåŠ¡å™¨è¿”å›çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„htmlï¼Œåœ¨æµè§ˆå™¨å¯ä»¥çœ‹åˆ°å®Œæ•´çš„domï¼Œå¯¹äºçˆ¬è™«ã€ç™¾åº¦æœç´¢ç­‰å¼•æ“å°±æ¯”è¾ƒå‹å¥½
ç¼ºç‚¹ï¼š

åœ¨åç»­è·³è½¬å…¶å®ƒé“¾æ¥æ—¶ï¼Œæ•´ä¸ªé¡µé¢è¿˜è¦é‡å¤è¿™æ ·çš„æ“ä½œï¼Œä¸æ–­åœ°è¯·æ±‚å“åº”ã€è¯·æ±‚å“åº”ï¼Œç›¸å¯¹æ¥è¯´ï¼Œæ¶ˆè€—çš„å¸¦å®½èµ„æºã€åç»­è¯·æ±‚çš„æ—¶é—´å°±å¤šäº†ï¼Œå¯¹æœåŠ¡å™¨é€ æˆè¿‡å¤šè´Ÿæ‹…ã€‚</code></pre>
<hr>
<h4 id="Vue-ç›‘å¬æ•°æ®çš„ä¸‰ç§æ–¹æ³•"><a href="#Vue-ç›‘å¬æ•°æ®çš„ä¸‰ç§æ–¹æ³•" class="headerlink" title="Vue ç›‘å¬æ•°æ®çš„ä¸‰ç§æ–¹æ³•"></a>Vue ç›‘å¬æ•°æ®çš„ä¸‰ç§æ–¹æ³•</h4><p>1.åœ¨ input æ ‡ç­¾é‡Œç»‘å®š keyup äº‹ä»¶</p>
<p>2.watch ç›‘å¬æ•°æ®å˜åŒ–:ç›‘è§† data ä¸­æŒ‡å®šæ•°æ®çš„å˜åŒ–ï¼Œç„¶åè§¦å‘è¿™ä¸ª watch ä¸­å¯¹åº”çš„ function å¤„ç†å‡½æ•°ï¼Œ<br>è¯¥æ–¹æ³•å¯ä»¥ä¸ç”¨ç»‘å®šäº‹ä»¶;</p>
<p>watch ç›‘å¬è·¯ç”±å˜åŒ–:<br><code>watch: &#123; &#39;$route.path&#39;: function (newVal, oldVal) &#123; ... &#125; &#125;</code></p>
<p>3.computed è®¡ç®—å±æ€§çš„ä½¿ç”¨</p>
<hr>
<h4 id="computedã€watchã€methods-å¯¹æ¯”"><a href="#computedã€watchã€methods-å¯¹æ¯”" class="headerlink" title="computedã€watchã€methods å¯¹æ¯”"></a>computedã€watchã€methods å¯¹æ¯”</h4><p>1.computed å±æ€§çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼Œé™¤éä¾èµ–çš„å“åº”å¼å±æ€§å˜åŒ–æ‰ä¼šé‡æ–°è®¡ç®—ã€‚</p>
<pre><code>ä¸»è¦å½“ä½œå± æ€§æ¥ä½¿ç”¨;(æ³¨:åœ¨å¼•ç”¨çš„æ—¶å€™ï¼Œä¸€å®šä¸è¦åŠ  () å»è°ƒç”¨ï¼Œç›´æ¥æŠŠå®ƒå½“ä½œæ™®é€š å±æ€§å»ä½¿ç”¨ å°±å¥½äº†;
åªè¦ è®¡ç®—å±æ€§ï¼Œè¿™ä¸ª function å†…éƒ¨ï¼Œæ‰€ç”¨åˆ°çš„ ä»»ä½• data ä¸­çš„æ•°æ®å‘é€äº†å˜ åŒ–ï¼Œå°±ä¼šç«‹å³é‡æ–°è®¡ç®—è¿™ä¸ª
è®¡ç®—å±æ€§çš„å€¼;è®¡ç®—å±æ€§çš„æ±‚å€¼ç»“æœï¼Œä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œæ–¹ä¾¿ ä¸‹æ¬¡ç›´æ¥ä½¿ç”¨; å¦‚æœ è®¡ç®—å±æ€§æ–¹æ³•ä¸­ï¼Œæ‰€æœ‰çš„ä»»
ä½•æ•°æ®ï¼Œéƒ½æ²¡æœ‰å‘ç”Ÿè¿‡å˜åŒ–ï¼Œåˆ™ä¸ä¼šé‡ æ–°å¯¹è®¡ç®—å±æ€§æ±‚å€¼;)é€‚åˆå¯¹äºä»»ä½•å¤æ‚é€»è¾‘æˆ–ä¸€ä¸ªæ•°æ®å±æ€§åœ¨å®ƒæ‰€ä¾èµ–
çš„å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¹Ÿè¦å‘ç”Ÿå˜åŒ–ï¼Œå³ä¸€ä¸ªå±æ€§å—å¤šä¸ªå±æ€§å½±å“æ—¶ä½¿ç”¨ã€‚</code></pre>
<p>2.methods æ–¹æ³•è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„æ“ä½œï¼Œä¸»è¦ä¹¦å†™ä¸šåŠ¡é€»è¾‘;</p>
<p>3.watch ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„è¡¨è¾¾å¼ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ã€‚</p>
<pre><code>ä¸»è¦ç”¨æ¥ç›‘å¬æŸäº›ç‰¹å®šæ•° æ®çš„å˜åŒ–ï¼Œä»è€Œè¿›è¡ŒæŸäº›å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æ“ä½œ;å¯ä»¥çœ‹ä½œæ˜¯ computed å’Œ methods
çš„ç»“åˆä½“ã€‚éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ä½¿ç”¨ï¼Œå³å½“ä¸€æ¡æ•°æ®å½±å“å¤šæ¡æ•°æ®çš„æ—¶å€™ã€‚</code></pre>
<hr>
<h4 id="Vue-æ‹“å±•æŸç°æœ‰ç»„ä»¶"><a href="#Vue-æ‹“å±•æŸç°æœ‰ç»„ä»¶" class="headerlink" title="Vue æ‹“å±•æŸç°æœ‰ç»„ä»¶"></a>Vue æ‹“å±•æŸç°æœ‰ç»„ä»¶</h4><p>1.ä½¿ç”¨ Vue.mixin å…¨å±€æ··å…¥</p>
<pre><code>mixinçš„è°ƒç”¨é¡ºåºï¼šæ··å…¥å¯¹è±¡çš„é’©å­å°†åœ¨ç»„ä»¶è‡ªèº«é’©å­ä¹‹å‰è°ƒç”¨ï¼Œå¦‚æœé‡åˆ°å…¨å±€æ··å…¥ï¼ˆVue.mixinï¼‰ï¼Œå…¨å±€æ··å…¥
çš„æ‰§è¡Œé¡ºåºè¦å…ˆäºæ··å…¥å’Œç»„ä»¶é‡Œçš„æ–¹æ³•</code></pre>
<p>2.åŠ  slot æ‹“å±•</p>
<pre><code>é»˜è®¤æ’æ§½å’ŒåŒ¿åæ’æ§½ï¼šslotç”¨æ¥è·å–ç»„ä»¶ä¸­çš„åŸå†…å®¹

å…·åæ’æ§½</code></pre>
<hr>
<h4 id="Vue-router-å¯¼èˆªé’©å­"><a href="#Vue-router-å¯¼èˆªé’©å­" class="headerlink" title="Vue-router å¯¼èˆªé’©å­"></a>Vue-router å¯¼èˆªé’©å­</h4><p>1.å…¨å±€å¯¼èˆªé’©å­</p>
<p>beforeEach(to, from, next)ï¼šè·¯ç”±æ”¹å˜å‰è°ƒç”¨</p>
<pre><code>å¸¸ç”¨éªŒè¯ç”¨æˆ·æƒé™

to: å³å°†è¦è¿›å…¥çš„ç›®æ ‡è·¯ç”±å¯¹è±¡;

from: å½“å‰å¯¼èˆªå³å°†è¦ç¦»å¼€çš„è·¯ç”±å¯¹è±¡;

next: è·¯ç”±æ§åˆ¶å‚æ•°

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">next() &#x2F;&#x2F; å¦‚ä¸€åˆ‡æ­£å¸¸ï¼Œè°ƒç”¨æ­¤æ–¹æ³•è¿›å…¥ä¸‹ä¸€ä¸ªé’©å­</span><br><span class="line">next(false) &#x2F;&#x2F; å–æ¶ˆå¯¼èˆª</span><br><span class="line">next(&#39;route&#39;) &#x2F;&#x2F; å½“å‰å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°å¯¼èˆª</span><br><span class="line">next(&#39;error&#39;) &#x2F;&#x2F; å¦‚æœä¸€ä¸ªerrorå®ä¾‹ï¼Œåˆ™å¯¼èˆªä¼šè¢«ç»ˆæ­¢ä¸”è¯¥é”™è¯¯ä¼šè¢«ä¼ é€’ç»™router.onError()</span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre>
<p>afterEach(to, from): è·¯ç”±æ”¹å˜åçš„é’©å­</p>
<pre><code>å¸¸ç”¨è‡ªåŠ¨è®©é¡µé¢è¿”å›æœ€é¡¶ç«¯

ç”¨æ³•ç›¸ä¼¼ï¼Œå°‘äº†nextå‚æ•°</code></pre>
<p>2.è·¯ç”±é…ç½®ä¸­å¯¼èˆªé’©å­</p>
<p>beforeEnter(to, from, next)</p>
<pre><code>ç”¨æ³•åŒä¸Š</code></pre>
<p>3.ç»„ä»¶å†…éƒ¨å¯¼èˆªé’©å­</p>
<p>beforeRouteEnter(to, from, next)</p>
<pre><code>è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢«comfirmå‰è°ƒç”¨

æ­¤æ—¶å®ä¾‹æœªè¢«åˆ›å»ºï¼Œæ‰€ä»¥ä¸èƒ½è·å–å®ä¾‹(this)</code></pre>
<p>beforeRouteUpdate(to, from, next)</p>
<pre><code>å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨

è¯¥ç»„ä»¶å†…å¯ä»¥è®¿é—®å®ä¾‹(this)</code></pre>
<p>beforeRouteLeave(to, from, next)</p>
<pre><code>å½“å¯¼èˆªç¦»å¼€ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨

è¯¥ç»„ä»¶å†…å¯ä»¥è®¿é—®å®ä¾‹(this)</code></pre>
<p>4.è·¯ç”±ç›‘æµ‹å˜åŒ–</p>
<p>watch ç›‘å¬$router å¯¹è±¡</p>
<hr>
<h4 id="é€’å½’ç»„ä»¶"><a href="#é€’å½’ç»„ä»¶" class="headerlink" title="é€’å½’ç»„ä»¶"></a>é€’å½’ç»„ä»¶</h4><p>ç»„ä»¶å¯ä»¥åœ¨ä»–ä»¬è‡ªå·±æ¨¡æ¿ä¸­è°ƒç”¨è‡ªèº«</p>
<p>ä¸€å®šè¦æœ‰ä¸€ä¸ªç»“æŸçš„æ¡ä»¶ï¼Œå¯ä½¿ç”¨ v-if=â€falseâ€ä½œä¸ºé€’å½’ç»„ä»¶çš„ç»“æŸæ¡ä»¶ã€‚ç”¨åˆ°é€’å½’ç»„ä»¶ï¼Œæ•°æ®æ ¼å¼æ˜¯éœ€è¦<br>æ»¡è¶³çš„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for&#x3D;&quot;(item, index) in list&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">                &lt;p&gt;&#123;&#123;item.name&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;tree-menu :list&#x3D;&quot;list&quot;&gt;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        components: &#123;</span><br><span class="line">            treeMenu</span><br><span class="line">        &#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                list: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        name: &#39;å…¨æ ˆå·¥ç¨‹å¸ˆ&#39;,</span><br><span class="line">                        cList: [</span><br><span class="line">                            &#123;name: &#39;vue&#39;&#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                name: &#39;react&#39;,</span><br><span class="line">                                cList: [</span><br><span class="line">                                    &#123;</span><br><span class="line">                                        name: &#39;js&#39;,</span><br><span class="line">                                        cList: [&#123;name: &#39;css&#39;&#125;]</span><br><span class="line">                                    &#125;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;name: &#39;é«˜çº§å·¥ç¨‹å¸ˆ&#39;&#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Vue-å¿…ä¼š-api"><a href="#Vue-å¿…ä¼š-api" class="headerlink" title="Vue å¿…ä¼š api"></a>Vue å¿…ä¼š api</h4><p>1.æ•°æ®ç›¸å…³</p>
<pre><code>Vue.set(vm.$set): å‘å“åº”å¼å¯¹è±¡ä¸­è¿½åŠ å±æ€§ï¼Œå¹¶å¸Œæœ›è¿™ä¸ªå±æ€§ä¹Ÿæ˜¯å“åº”å¼ï¼Œä¸”è§¦å‘è§†å›¾æ›´æ–°

Vue.delete(vm.$delete): åˆ é™¤å¯¹è±¡çš„å±æ€§ï¼Œå¯¹è±¡å¦‚æ˜¯å“åº”å¼çš„ï¼Œèƒ½ç¡®ä¿è§¦å‘è¯•å›¾æ›´æ–°</code></pre>
<p>2.äº‹ä»¶ç›¸å…³</p>
<pre><code>vm.$on: ç›‘å¬å½“å‰å®ä¾‹ä¸Šçš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¯ç”±vm.$emitè§¦å‘ã€‚å›è°ƒå‡½æ•°æ¥æ”¶æ‰€æœ‰ä¼ å…¥äº‹ä»¶çš„å‚æ•°
å¹¶éåœ¨å­ç»„ä»¶æ´¾å‘ï¼Œåœ¨çˆ¶ç»„ä»¶æ¥å—ï¼Œçˆ¶å­ç»„ä»¶ä¸ºåŒä¸€å®ä¾‹ã€‚
è½¬æ¢æˆä»£ç å½¢å¼å¦‚ä¸‹ï¼š

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vm.$on(&#39;test&#39;, function(msg) &#123;</span><br><span class="line">    console.log(msg)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

vm.$emit: è§¦å‘å½“å‰å®ä¾‹ä¸Šçš„äº‹ä»¶ï¼Œé™„åŠ å‚æ•°ä¼šä¼ ç»™ç›‘å¬å™¨å›è°ƒ

å…¸å‹åº”ç”¨ï¼šäº‹ä»¶æ€»çº¿

    é€šè¿‡åœ¨VueåŸå‹ä¸Šæ·»åŠ ä¸€ä¸ªVueå®ä¾‹ä½œä¸ºäº‹ä»¶æ€»çº¿ï¼Œå®ç°ç»„ä»¶é—´ç›¸äº’é€šä¿¡ï¼Œä¸”ä¸å—ç»„ä»¶å…³ç³»çš„
    å½±å“ã€‚ï¼ˆVue.prototype.$bus = new Vue()ï¼‰</code></pre>
<p>3.èŠ‚ç‚¹å¼•ç”¨</p>
<pre><code>refå’Œvm.$refsï¼šrefè¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ã€‚å¼•ç”¨ä¿¡æ¯å°†ä¼šæ³¨å†Œåœ¨çˆ¶ç»„ä»¶çš„$refså¯¹
è±¡ä¸Šã€‚å¦‚æœåœ¨æ™®é€šçš„DOMå…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯DOMå…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶

æ³¨æ„ï¼šrefæ˜¯ä½œä¸ºæ¸²æŸ“ç»“æœè¢«åˆ›å»ºçš„ï¼Œåœ¨åˆå§‹æ¸²æŸ“æ—¶ä¸èƒ½è®¿é—®ï¼ˆè‡³å°‘åœ¨mountedä¹‹åè®¿é—®ï¼‰ï¼›$refs
ä¸æ˜¯å“åº”å¼çš„ï¼Œä¸è¦è¯•å›¾ç”¨å®ƒåœ¨æ¨¡æ¿ä¸­åšæ•°æ®ç»‘å®šï¼›å½“v-forç”¨äºå…ƒç´ æˆ–ç»„ä»¶æ—¶ï¼Œå¼•ç”¨ä¿¡æ¯å°†æ˜¯åŒ…å«
DOMèŠ‚ç‚¹æˆ–ç»„ä»¶å®ä¾‹çš„æ•°ç»„</code></pre>
<hr>
<h4 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h4><pre><code>1.cssè¿‡åº¦å’ŒåŠ¨ç”»ä¸­è‡ªåŠ¨åº”ç”¨class
2.é…åˆä½¿ç”¨ç¬¬ä¸‰æ–¹cssåŠ¨ç”»åº“ï¼Œå¦‚animate.css
3.åœ¨è¿‡æ¸¡é’©å­å‡½æ•°ä¸­ä½¿ç”¨jsç›´æ¥æ“ä½œdom
4.é…åˆä½¿ç”¨ç¬¬ä¸‰æ–¹jsåŠ¨ç”»åº“ï¼Œå¦‚velocity.js
5.åˆ—è¡¨è¿‡åº¦åˆ©ç”¨trasition-groupå¯ä»¥å¯¹v-foræ¸²æŸ“æ¯ä¸ªå…ƒç´ åº”ç”¨è¿‡åº¦
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition-group name&#x3D;&quot;fade&quot;&gt;</span><br><span class="line">    &lt;div v-for&#x3D;&quot;c in coures&quot; :key&#x3D;&quot;c.name&quot;&gt;</span><br><span class="line">        &#123;&#123;c.name&#125;&#125; - $&#123;&#123;c.price&#125;&#125;</span><br><span class="line">        &lt;button @click&#x3D;&quot;addToCart(c)&quot;&gt;åŠ è´­&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;transition-group&gt;</span><br></pre></td></tr></table></figure></code></pre>
<hr>
<h4 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h4><pre><code>å¯ç”¨äºå¯¹ä¼ å…¥çš„æ–‡æœ¬è¿›è¡Œæ ¼å¼åŒ–ï¼šåŒèŠ±æ‹¬å·æ’å€¼å’Œv-bindè¡¨è¾¾å¼

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- åŒèŠ±æ‹¬å· --&gt;</span><br><span class="line">&#123;&#123; message | capitalize &#125;&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- v-bind --&gt;</span><br><span class="line">&lt;div v-bind:id&#x3D;&quot;rawId | formatId&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">filters: &#123;</span><br><span class="line">    capitalize(value, symbol &#x3D; &#39;Â¥&#39;) &#123;</span><br><span class="line">        return symbol + value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre>
<hr>
<h4 id="è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤"></a>è‡ªå®šä¹‰æŒ‡ä»¤</h4><pre><code>æœ‰å¤ç”¨çš„åŠŸèƒ½ï¼Œå¹¶ä¸”éœ€è¦æ“ä½œdomå…ƒç´ æ—¶å¯ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(&#39;permission&#39;, &#123;</span><br><span class="line">    inserted(el, binding) &#123;</span><br><span class="line">        console.log(binding)</span><br><span class="line">        if (role !&#x3D;&#x3D; binding.value) &#123;</span><br><span class="line">            el.parentElement.removeChild()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;button v-permission&#x3D;&quot;&#39;admin&#39;&quot;&gt;</span><br></pre></td></tr></table></figure></code></pre>
<hr>
<h4 id="æ¸²æŸ“å‡½æ•°"><a href="#æ¸²æŸ“å‡½æ•°" class="headerlink" title="æ¸²æŸ“å‡½æ•°"></a>æ¸²æŸ“å‡½æ•°</h4><p>Vue æ¨èåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨æ¨¡æ¿åˆ›å»º htmlï¼Œä½†åœ¨ä¸€äº›åœºæ™¯ä¸‹éœ€è¦ç”¨ js çš„å®Œå…¨ç¼–ç¨‹èƒ½åŠ›ï¼Œæ­¤æ—¶éœ€è¦ç”¨åˆ°æ¸²æŸ“å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">render: function (createElement) &#123;</span><br><span class="line">  &#x2F;&#x2F; createElementå‡½æ•°è¿”å›çš„æ˜¯VNode</span><br><span class="line">  return &#123;</span><br><span class="line">    tag, &#x2F;&#x2F; æ ‡ç­¾åç§° &#123;String | Object | Function&#125; æˆ–è€…resolveä¸Šè¿°ä»»ä½•ä¸€ç§asyncå‡½æ•°</span><br><span class="line">    data, &#x2F;&#x2F; ä¼ é€’æ•°æ®</span><br><span class="line">    children &#x2F;&#x2F; å­èŠ‚ç‚¹æ•°æ®</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;heading :level&#x3D;&quot;1&quot; :title&#x3D;&quot;title&quot; icon&#x3D;&quot;cart&quot;&gt;&#123;&#123;title&#125;&#125;&lt;&#x2F;heading&gt;</span><br><span class="line">&lt;h2 title&#x3D;&quot;&quot;&gt;</span><br><span class="line">  &lt;svg class&#x3D;&quot;icon&quot;&gt;</span><br><span class="line">    &lt;use xlink:href&#x3D;&quot;#icon-cart&quot;&gt;&lt;&#x2F;use&gt;</span><br><span class="line">  &lt;&#x2F;svg&gt;</span><br><span class="line">&lt;&#x2F;h2&gt; &#x2F;&#x2F;æ’å€¼</span><br><span class="line"></span><br><span class="line">Vue.component(&#39;heading&#39;, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    level: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    title: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#39;&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    icon: &#123;</span><br><span class="line">      type: String</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render(h) &#123; &#x2F;&#x2F; hå°±æ˜¯createElement</span><br><span class="line">    &#x2F;&#x2F; å­èŠ‚ç‚¹æ•°ç»„</span><br><span class="line">    let children &#x3D; []</span><br><span class="line">    &#x2F;&#x2F; iconå±æ€§å¤„ç†é€»è¾‘</span><br><span class="line">    if (this.icon) &#123;</span><br><span class="line">      &#x2F;&#x2F; &lt;svg class&#x3D;&quot;icon&quot;&gt;&lt;use xlink&#x3D;&quot;#icon-cart&quot;&gt;&lt;&#x2F;use&gt;&lt;&#x2F;svg&gt;</span><br><span class="line">      children.push(h(</span><br><span class="line">        &#39;svg&#39;,</span><br><span class="line">        &#123;class: &#39;icon&#39;&#125;,</span><br><span class="line">        [h(&#39;use&#39;, &#123;attrs: &#123;&#39;xlink:href&#39;: &#39;#icon-&#39; + this.icon&#125;&#125;)]</span><br><span class="line">      ))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æ‹¼æ¥å­èŠ‚ç‚¹</span><br><span class="line">    children &#x3D; children.concat(this.$slots.default)</span><br><span class="line">    &#x2F;&#x2F; snabbdom</span><br><span class="line">    const vnode &#x3D; h( &#x2F;&#x2F; å¿…é¡»è¿”å›</span><br><span class="line">      &#39;h&#39; + this.level, &#x2F;&#x2F; å‚æ•°1:tagname</span><br><span class="line">      &#123;attrs: &#123;title: this.title&#125;&#125;, &#x2F;&#x2F;å‚æ•°2: &#123;...&#125;</span><br><span class="line">      children, &#x2F;&#x2F;å‚æ•°3:å­èŠ‚ç‚¹VNodeæ•°ç»„</span><br><span class="line">    )</span><br><span class="line">    return vnode</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å‡½æ•°å¼ç»„ä»¶"><a href="#å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶"></a>å‡½æ•°å¼ç»„ä»¶</h4><p>ç»„ä»¶æ²¡æœ‰ä»»ä½•ç®¡ç†çŠ¶æ€ï¼Œä¹Ÿæ²¡æœ‰ç›‘å¬ä»»ä½•ä¼ é€’ç»™ä»–çš„çŠ¶æ€ï¼Œä¹Ÿæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ï¼Œå¯ä»¥å°†ç»„ä»¶æ ‡è®°ä¸º functionalï¼Œ<br>è¿™æ„å‘³ç€å®ƒæ— çŠ¶æ€ï¼ˆæ²¡æœ‰å“åº”å¼æ•°æ®ï¼‰ï¼Œä¹Ÿæ²¡æœ‰å®ä¾‹ï¼ˆæ²¡æœ‰ this ä¸Šä¸‹æ–‡ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#39;heading&#39;,&#123;</span><br><span class="line">  functional: true, &#x2F;&#x2F; å‡½æ•°å¼ç»„ä»¶</span><br><span class="line">  props: &#123;...&#125;,</span><br><span class="line">  render(h, context) &#123;</span><br><span class="line">    &#x2F;&#x2F; å­èŠ‚ç‚¹æ•°ç»„</span><br><span class="line">    let children &#x3D; []</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; å±æ€§è·å–</span><br><span class="line">    const &#123;icon, title, level&#125; &#x3D; context.props</span><br><span class="line">    &#x2F;&#x2F; iconå±æ€§å¤„ç†é€»è¾‘</span><br><span class="line">    if (icon) &#123;</span><br><span class="line">      &#x2F;&#x2F; &lt;svg class&#x3D;&quot;icon&quot;&gt;&lt;use xlink&#x3D;&quot;#icon-cart&quot;&gt;&lt;&#x2F;use&gt;&lt;&#x2F;svg&gt;</span><br><span class="line">      children.push(h(</span><br><span class="line">        &#39;svg&#39;,</span><br><span class="line">        &#123;class: &#39;icon&#39;&#125;,</span><br><span class="line">        [h(&#39;use&#39;, &#123;attrs: &#123;&#39;xlink:href&#39;: &#39;#icon-&#39; + icon&#125;&#125;)]</span><br><span class="line">      ))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æ‹¼æ¥å­èŠ‚ç‚¹</span><br><span class="line">    children &#x3D; children.concat(context.children)</span><br><span class="line">    &#x2F;&#x2F; snabbdom</span><br><span class="line">    const vnode &#x3D; h( &#x2F;&#x2F; å¿…é¡»è¿”å›</span><br><span class="line">      &#39;h&#39; + level, &#x2F;&#x2F; å‚æ•°1:tagname</span><br><span class="line">      &#123;attrs: &#123;title&#125;&#125;, &#x2F;&#x2F;å‚æ•°2: &#123;...&#125;</span><br><span class="line">      children, &#x2F;&#x2F;å‚æ•°3:å­èŠ‚ç‚¹VNodeæ•°ç»„</span><br><span class="line">    )</span><br><span class="line">    return vnode</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ··å…¥-mixin"><a href="#æ··å…¥-mixin" class="headerlink" title="æ··å…¥ mixin"></a>æ··å…¥ mixin</h4><p>æä¾›äº†ä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ï¼Œæ¥åˆ†å‘ vue ç»„ä»¶ä¸­çš„å¯å¤ç”¨åŠŸèƒ½ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥<br>å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«â€œæ··åˆâ€è¿›å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ï¼ˆé€‰é¡¹åˆå¹¶ç»„ä»¶ä¸­çš„å€¼ä¼˜å…ˆçº§é«˜ï¼Œç”Ÿå‘½å‘¨æœŸéƒ½ä¿ç•™ï¼‰</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å®šä¹‰ä¸€ä¸ªæ··å…¥å¯¹è±¡</span><br><span class="line">var myMixin &#x3D; &#123;</span><br><span class="line">  created: function () &#123;</span><br><span class="line">    this.hello()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    hello: function () &#123;</span><br><span class="line">      console.log(&#39;hello from mixin!&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Vue.component(&#39;comp&#39;, &#123;</span><br><span class="line">  mixins: [myMixin]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></code></pre>
<hr>
<h4 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h4><p>ç”¨äºä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½èŒƒå›´å¦‚ä¸‹ï¼š</p>
<pre><code>1.æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œå¦‚ï¼švue-custom-element

2.æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ï¼Œå¦‚ï¼švue-touch

3.é€šè¿‡å…¨å±€æ··å…¥æ¥æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ï¼Œå¦‚ï¼švue-router

4.æ·»åŠ Vueå®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠä»–ä»¬æ·»åŠ åˆ°Vue.prototypeä¸Šå®ç°

5.ä¸€ä¸ªåº“ï¼Œæä¾›è‡ªå·±çš„Apiï¼ŒåŒæ—¶æä¾›ä¸Šé¢æåˆ°çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ï¼Œå¦‚ï¼švue-router</code></pre>
<h5 id="æ’ä»¶å£°æ˜"><a href="#æ’ä»¶å£°æ˜" class="headerlink" title="æ’ä»¶å£°æ˜"></a>æ’ä»¶å£°æ˜</h5><pre><code>Vueçš„æ’ä»¶åº”è¯¥æš´éœ²ä¸€ä¸ªinstallæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Vueæ„é€ å™¨ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">MyPlugin.install &#x3D; function(Vue, options) &#123;</span><br><span class="line">  &#x2F;&#x2F; 1.æ·»åŠ å…¨å±€æ–¹æ³•æˆå±æ€§</span><br><span class="line">  Vue.myGlobalMethod &#x3D; function () &#123;&#125;</span><br><span class="line">  &#x2F;&#x2F; 2.æ·»åŠ å…¨å±€èµ„æº</span><br><span class="line">  Vue.directive(&#39;my-directive&#39;, &#123;&#125;)</span><br><span class="line">  &#x2F;&#x2F; 3.æ³¨å…¥ç»„ä»¶é€‰é¡¹</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    created: function() &#123;</span><br><span class="line">      &#x2F;&#x2F; ...é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  &#x2F;&#x2F; 4.æ·»åŠ å®ä¾‹æ–¹æ³•</span><br><span class="line">  Vue.prototype.$myMethod &#x3D; function (methodOptions) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ’ä»¶éœ€è¦å®ç°</span><br><span class="line">const MyPlugin &#x3D; &#123;</span><br><span class="line">  install(Vue, options) &#123;</span><br><span class="line">    Vye.component(&#39;heading&#39;, &#123;</span><br><span class="line">      &#x2F;&#x2F;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(typeof window !&#x3D;&#x3D; &#39;undefined&#39; &amp;&amp; window.Vue) &#123;</span><br><span class="line">  &#x2F;&#x2F;ä½¿ç”¨æ’ä»¶ä½¿ç”¨Vue.use()</span><br><span class="line">  window.Vue.use(MyPlugin)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¼•å…¥</span><br><span class="line">&lt;script src&#x3D;&quot;.&#x2F;plugins&#x2F;heading.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></code></pre>
<hr>
<h4 id="v-if-å’Œ-v-for-çš„ä¼˜å…ˆçº§"><a href="#v-if-å’Œ-v-for-çš„ä¼˜å…ˆçº§" class="headerlink" title="v-if å’Œ v-for çš„ä¼˜å…ˆçº§"></a>v-if å’Œ v-for çš„ä¼˜å…ˆçº§</h4><p>1.v-for ä¼˜å…ˆäº v-if</p>
<p>2.å¦‚æœåŒæ—¶å‡ºç°ï¼Œæ¯æ¬¡éƒ½ä¼šå…ˆæ‰§è¡Œå¾ªç¯å†æ¡ä»¶åˆ¤æ–­ï¼Œæµªè´¹æ€§èƒ½</p>
<p>3.é¿å…æ–¹æ³•å¯åœ¨å¤–å±‚åµŒå¥— templateï¼Œåœ¨è¿™ä¸€å±‚è¿›è¡Œ v-if</p>
<p>4.å¦‚æœå¾ªç¯å†…éƒ¨å­å…ƒç´ æœ‰ç›¸åº”åˆ¤æ–­æ¡ä»¶ï¼Œåº”è¯¥ä½¿ç”¨è®¡ç®—å±æ€§è¿‡æ»¤å‡ºè¦å±•ç¤ºçš„å…ƒç´ æ¥è¿›è¡Œä¼˜åŒ–ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ v-if</p>
<hr>
<h4 id="Vue-ç»„ä»¶-data-ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°ï¼Œè€Œ-Vue-çš„æ ¹å®ä¾‹æ²¡æœ‰æ­¤é™åˆ¶"><a href="#Vue-ç»„ä»¶-data-ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°ï¼Œè€Œ-Vue-çš„æ ¹å®ä¾‹æ²¡æœ‰æ­¤é™åˆ¶" class="headerlink" title="Vue ç»„ä»¶ data ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°ï¼Œè€Œ Vue çš„æ ¹å®ä¾‹æ²¡æœ‰æ­¤é™åˆ¶"></a>Vue ç»„ä»¶ data ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°ï¼Œè€Œ Vue çš„æ ¹å®ä¾‹æ²¡æœ‰æ­¤é™åˆ¶</h4><p>1.Vue ç»„ä»¶å¯èƒ½å­˜åœ¨å¤šä¸ªå®ä¾‹ï¼Œå¦‚æœç”¨å¯¹è±¡å½¢å¼å®šä¹‰ dataï¼Œä¼šå¯¼è‡´ä»–ä»¬å…±ç”¨ä¸€ä¸ª data å¯¹è±¡ï¼ŒçŠ¶æ€æ”¹å˜å°†å½±å“æ‰€æœ‰ç»„ä»¶å®ä¾‹</p>
<p>2.é‡‡ç”¨å‡½æ•°å½¢å¼å®šä¹‰ï¼Œåœ¨ initData æ—¶ä¼šå°†å…¶ä½œä¸ºå·¥å‚å‡½æ•°è¿”å›å…¨æ–° data å¯¹è±¡ï¼Œæœ‰æ•ˆé¿å…å®ä¾‹é—´çŠ¶æ€æ±¡æŸ“</p>
<p>3.æ ¹å®ä¾‹åªèƒ½æœ‰ä¸€ä¸ªï¼Œä¸éœ€è¦æ‹…å¿ƒè¿™ç§æƒ…å†µ</p>
<p>4.ï¼ˆæºç è§’åº¦ï¼‰æºç ä¸­ï¼Œæ•°æ®åˆå§‹åŒ–çš„éƒ¨åˆ†ä¼šæ£€æµ‹ data å½¢å¼ä»è€Œæ‰§è¡Œå…·ä½“æ–¹å¼ã€‚æ ¹å®ä¾‹åˆ›å»ºå¯¹è±¡æ—¶ï¼Œåˆå¹¶é€‰é¡¹ä¼šæœ‰å®ä¾‹èƒ½æ‹¿åˆ°ï¼Œè¿™æ˜¯åªæœ‰æ ¹å®ä¾‹æ‰æœ‰çš„ï¼Œå¯ä»¥æœ‰æ•ˆèº²è¿‡ data å½¢å¼çš„æ ¡éªŒã€‚æ™®é€šç»„ä»¶ä¸€å¼€å§‹ä¸å­˜åœ¨å®ä¾‹ï¼Œæ‰€ä»¥æ— æ³•èº²è¿‡æ£€éªŒçš„ if é€»è¾‘ï¼Œä»è€Œè¢«æ£€æµ‹åˆ°ç±»å‹ä¸ç¬¦ï¼Œæ— æ³•è·³è¿‡ã€‚</p>
<hr>
<h4 id="Vue-ä¸­çš„-key-çš„ä½œç”¨å’Œå·¥ä½œåŸç†"><a href="#Vue-ä¸­çš„-key-çš„ä½œç”¨å’Œå·¥ä½œåŸç†" class="headerlink" title="Vue ä¸­çš„ key çš„ä½œç”¨å’Œå·¥ä½œåŸç†"></a>Vue ä¸­çš„ key çš„ä½œç”¨å’Œå·¥ä½œåŸç†</h4><p>1.key çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†é«˜æ•ˆæ›´æ–°è™šæ‹Ÿ DOMï¼Œä»æºç è§’åº¦ï¼ŒåŸç†å°±æ˜¯åœ¨ patch è¿‡ç¨‹ä¸­ï¼Œä¼šæ‰§è¡Œ patchVnodeï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­åˆä¼šæ‰§è¡Œ updateChildrenï¼Œå®ƒä¼šå»æ›´æ–°æ‰€æœ‰ä¸¤ä¸ªæ–°æ—§å­å…ƒç´ ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­é€šè¿‡ key å¯ä»¥ç²¾å‡†åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªï¼Œä»è€Œé¿å…é¢‘ç¹æ›´æ–°ä¸åŒå…ƒç´ ï¼Œä½¿æ•´ä¸ª patch æ›´é«˜æ•ˆï¼Œå‡å°‘ DOM æ“ä½œã€‚</p>
<p>2.ä¸è®¾ç½® key å¯èƒ½åœ¨åˆ—è¡¨æ›´æ–°æ—¶å¼•å‘ä¸€äº›éšè”½ bugï¼ˆå¦‚ï¼šæ›´æ–°äº†æ²¡æœ‰æ›´æ–°èŠ‚ç‚¹ï¼‰</p>
<p>3.vue åœ¨ä½¿ç”¨ç›¸åŒæ ‡ç­¾åå…ƒç´ çš„è¿‡æ¸¡åˆ‡æ¢æ—¶ï¼Œä¹Ÿä¼šä½¿ç”¨åˆ° key å±æ€§ã€‚ç›®çš„ä¹Ÿæ˜¯è®© vue å¯ä»¥åŒºåˆ†å®ƒä»¬ï¼Œå¦åˆ™ vue åªä¼šæ›¿æ¢å†…éƒ¨å±æ€§è€Œä¸ä¼šè§¦å‘è¿‡æ¸¡æ•ˆæœ</p>
<h5 id="å’Œreactçš„keyåšå¯¹æ¯”"><a href="#å’Œreactçš„keyåšå¯¹æ¯”" class="headerlink" title="å’Œreactçš„keyåšå¯¹æ¯”"></a>å’Œreactçš„keyåšå¯¹æ¯”</h5><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/newway007/article/details/104900608">https://blog.csdn.net/newway007/article/details/104900608</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhoulujun.cn/html/webfront/ECMAScript/vue/8295.html">https://www.zhoulujun.cn/html/webfront/ECMAScript/vue/8295.html</a></p>
<hr>
<h4 id="Vue-ä¸­çš„-diff-ç®—æ³•"><a href="#Vue-ä¸­çš„-diff-ç®—æ³•" class="headerlink" title="Vue ä¸­çš„ diff ç®—æ³•"></a>Vue ä¸­çš„ diff ç®—æ³•</h4><p>diff ç®—æ³•å¹¶é vue ä¸“ç”¨ï¼Œå‡¡æ˜¯æ¶‰åŠè™šæ‹Ÿ DOM éƒ½ç”¨åˆ°äº† diff ç®—æ³•</p>
<p>å¿…è¦æ€§ï¼š(lifecycle.js-mountComponent()) ç»„å»ºä¸­å¯èƒ½å­˜åœ¨å¾ˆå¤šä¸ª data ä¸­çš„ key ä½¿ç”¨</p>
<p>æ‰§è¡Œæ–¹å¼ï¼š(patch.js-patchVnode()) patchVnode æ˜¯ diff å‘ç”Ÿçš„åœ°æ–¹ï¼Œæ•´ä½“ç­–ç•¥ï¼šæ·±åº¦ä¼˜å…ˆï¼ŒåŒå±‚æ¯”è¾ƒ</p>
<p>é«˜æ•ˆæ€§ï¼š(patch.js-updateChildren)</p>
<p>1.diff ç®—æ³•æ˜¯è™šæ‹Ÿ DOM æŠ€æœ¯çš„å¿…ç„¶äº§ç‰©ï¼šé€šè¿‡æ–°æ—§è™šæ‹Ÿ DOM åšå¯¹æ¯”ï¼ˆå³ diffï¼‰ï¼Œå°†å˜åŒ–çš„åœ°æ–¹æ›´æ–°åœ¨çœŸå® DOM ä¸Šï¼›å¦å¤–ä¹Ÿéœ€è¦ diff é«˜æ•ˆçš„æ‰§è¡Œå¯¹æ¯”è¿‡ç¨‹ï¼Œä»è€Œé™ä½æ—¶é—´å¤æ‚åº¦ä¸º O(n)</p>
<p>2.Vue2.x ä¸­ä¸ºäº†é™ä½ Watcher ç²’åº¦ï¼Œæ¯ä¸ªç»„ä»¶åªæœ‰ä¸€ä¸ª Watcher ä¸ä¹‹å¯¹åº”ï¼Œåªæœ‰å¼•å…¥ diff æ‰èƒ½ç²¾ç¡®æ‰¾åˆ°å‘ç”Ÿå˜åŒ–åœ°æ–¹</p>
<p>3.vue ä¸­çš„ diff æ‰§è¡Œçš„æ—¶åˆ»æ˜¯ç»„ä»¶å®ä¾‹æ‰§è¡Œå…¶æ›´æ–°å‡½æ•°æ—¶ï¼Œå®ƒä¼šå¯¹æ¯”ä¸Šä¸€æ¬¡æ¸²æŸ“ç»“æœ oldVnode å’Œæ–°çš„æ¸²æŸ“ç»“æœ newVnodeï¼Œæ­¤è¿‡ç¨‹ä¸º patch</p>
<p>4.diff è¿‡ç¨‹æ•´ä½“éµå¾ªæ·±åº¦ä¼˜å…ˆï¼ŒåŒå±‚æ¯”è¾ƒçš„ç­–ç•¥ï¼›ä¸¤ä¸ªèŠ‚ç‚¹æ¯”è¾ƒä¼šæ ¹æ®å®ƒä»¬æ˜¯å¦æ‹¥æœ‰å­èŠ‚ç‚¹æˆ–è€…æ–‡æœ¬èŠ‚ç‚¹åšä¸åŒæ“ä½œï¼›æ¯”è¾ƒä¸¤ç»„å­èŠ‚ç‚¹çš„ç®—æ³•æ˜¯é‡ç‚¹ï¼Œé¦–å…ˆå‡è®¾å¤´å°¾èŠ‚ç‚¹å¯èƒ½ç›¸åŒåš 4 æ¬¡å¯¹æ¯”å°è¯•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›¸åŒèŠ‚ç‚¹æ‰æŒ‰ç…§é€šç”¨æ–¹å¼éå†æŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾ç»“æŸå†æŒ‰æƒ…å†µå¤„ç†å‰©ä¸‹çš„èŠ‚ç‚¹ï¼›å€ŸåŠ© key é€šå¸¸å¯ä»¥éå¸¸ç²¾ç¡®æ‰¾åˆ°ç›¸åŒèŠ‚ç‚¹ï¼Œå› æ­¤æ•´ä¸ª patch è¿‡ç¨‹éå¸¸é«˜æ•ˆ</p>
<h5 id="å’Œreactçš„diffåšæ¯”è¾ƒ"><a href="#å’Œreactçš„diffåšæ¯”è¾ƒ" class="headerlink" title="å’Œreactçš„diffåšæ¯”è¾ƒ"></a>å’Œreactçš„diffåšæ¯”è¾ƒ</h5><p><a target="_blank" rel="noopener" href="https://github.com/pfan123/Articles/issues/62">https://github.com/pfan123/Articles/issues/62</a></p>
<hr>
<h4 id="Vue-ç»„ä»¶åŒ–çš„ç†è§£"><a href="#Vue-ç»„ä»¶åŒ–çš„ç†è§£" class="headerlink" title="Vue ç»„ä»¶åŒ–çš„ç†è§£"></a>Vue ç»„ä»¶åŒ–çš„ç†è§£</h4><p>ç»„ä»¶å®šä¹‰ï¼š(src/core/global-api/assets.js)å¯å¤ç”¨çš„ Vueï¼ˆVueComponentï¼‰å®ä¾‹</p>
<p>ç»„ä»¶åŒ–ä¼˜ç‚¹ï¼š(lifecycle.js-mountComponent()) æ¯ä¸ªç»„ä»¶æœ‰ watcher ä¸ä¹‹å¯¹åº”ï¼Œåˆç†åˆ‡å‰²å¯ä»¥å‡å°‘é‡æ–°æ¸²æŸ“é¢ç§¯</p>
<p>ç»„ä»¶åŒ–å®ç°ï¼š(æ„é€ å‡½æ•°ï¼Œsrc/core/global-api/extend.js;å®ä¾‹å’ŒæŒ‚è½½ï¼Œsrc/core/vdom/patch.js-createElm())</p>
<p>1.ç»„ä»¶æ˜¯ç‹¬ç«‹å’Œå¯å¤ç”¨çš„ä»£ç ç»„ç»‡å•å…ƒã€‚ç»„ä»¶ç³»ç»Ÿæ˜¯ Vue æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œå¥¹ä½¿å¼€å‘è€…ä½¿ç”¨å°å‹ã€ç‹¬ç«‹å’Œé€šå¸¸å¯å¤ç”¨çš„ç»„ä»¶æ„å»ºå¤§å‹åº”ç”¨</p>
<p>2.ç»„ä»¶åŒ–å¼€å‘èƒ½å¤§å¹…æé«˜åº”ç”¨å¼€å‘æ•ˆç‡ã€æµ‹è¯•æ€§ã€å¤ç”¨æ€§ç­‰</p>
<p>3.ç»„ä»¶ä½¿ç”¨åˆ†ç±»æœ‰ï¼šé¡µé¢ç»„ä»¶ã€ä¸šåŠ¡ç»„ä»¶ã€é€šç”¨ç»„ä»¶</p>
<p>4.vue æ˜¯åŸºäºé…ç½®çš„ï¼Œæˆ‘ä»¬é€šå¸¸ç¼–å†™çš„ç»„ä»¶æ˜¯ç»„ä»¶é…ç½®è€Œéç»„ä»¶ï¼Œæ¡†æ¶åç»­ä¼šç”Ÿæˆå…¶æ„é€ å‡½æ•°ï¼Œä»–ä»¬åŸºäº VueComponent ç±»ï¼Œæ‰©å±•äº Vueã€‚æ‰©å±•è¿‡ç¨‹ä¸­ä¼šç»§æ‰¿ vue ä¸­å·²æœ‰çš„é€‰é¡¹</p>
<p>5.vue ä¸­å¸¸è§çš„ç»„ä»¶åŒ–æŠ€æœ¯æœ‰ï¼špropï¼Œè‡ªå®šä¹‰äº‹ä»¶ï¼Œæ’æ§½ç­‰ï¼Œä»–ä»¬ä¸»è¦ç”¨äºç»„ä»¶é€šä¿¡ã€æ‹“å±•ç­‰</p>
<p>6.åˆç†åˆ’åˆ†ç»„ä»¶ï¼Œæœ‰åŠ©äºæå‡åº”ç”¨æ€§èƒ½</p>
<p>7.ç»„ä»¶åº”è¯¥æ˜¯é«˜å†…èšã€ä½è€¦åˆ</p>
<p>8.éµå¾ªå•é¡¹æ•°æ®æµçš„åŸåˆ™ï¼ˆä¿®æ”¹æ•°æ®æäº¤ç»™çˆ¶ç»„ä»¶æ›´æ”¹æˆ–ä½¿ç”¨ vuex æ›´æ”¹ï¼‰</p>
<hr>
<h4 id="Vue-çš„è®¾è®¡ç†å¿µ"><a href="#Vue-çš„è®¾è®¡ç†å¿µ" class="headerlink" title="Vue çš„è®¾è®¡ç†å¿µ"></a>Vue çš„è®¾è®¡ç†å¿µ</h4><p>1.æ¸è¿›å¼ js æ¡†æ¶ï¼šè‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨</p>
<p>2.æ˜“ç”¨æ€§ï¼šå“åº”å¼</p>
<p>3.çµæ´»æ€§ï¼šè§„æ¨¡å°å¯åªä¿ç•™æ ¸å¿ƒåŠŸèƒ½ï¼Œè§„æ¨¡å¤§åˆ™å¼•å…¥å·¥å…·</p>
<p>4.é«˜æ•ˆæ€§ï¼šè™šæ‹Ÿ DOMï¼Œdiff ç®—æ³•ï¼Œproxy</p>
<hr>
<h4 id="vuex-ç”¨æ³•"><a href="#vuex-ç”¨æ³•" class="headerlink" title="vuex ç”¨æ³•"></a>vuex ç”¨æ³•</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903949586153480">https://juejin.cn/post/6844903949586153480</a></p>
<hr>
<h4 id="å¯¹-MVCã€MVP-å’Œ-MVVM-çš„ç†è§£"><a href="#å¯¹-MVCã€MVP-å’Œ-MVVM-çš„ç†è§£" class="headerlink" title="å¯¹ MVCã€MVP å’Œ MVVM çš„ç†è§£"></a>å¯¹ MVCã€MVP å’Œ MVVM çš„ç†è§£</h4><p>1.ä¸‰è€…éƒ½æ˜¯æ¡†æ¶æ¨¡å¼ï¼Œä»–ä»¬è®¾è®¡ç›®æ ‡éƒ½æ˜¯ä¸ºäº†è§£å†³ Model å’Œ View çš„è€¦åˆé—®é¢˜</p>
<p>2.MVC æ¨¡å¼å‡ºç°è¾ƒæ—©ä¸»è¦åº”ç”¨åœ¨åç«¯ï¼Œå¦‚ Spring MVCã€ASP.NET MVC ç­‰ï¼Œåœ¨å‰ç«¯é¢†åŸŸçš„æ—©æœŸä¹Ÿæœ‰åº”ç”¨ï¼Œå¦‚ BackBone.jsã€‚ä¼˜ç‚¹æ˜¯åˆ†å±‚æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯æ•°æ®æµæ··ä¹±ï¼Œçµæ´»æ€§å¸¦æ¥çš„ç»´æŠ¤æ€§é—®é¢˜</p>
<p>3.MVP æ¨¡å¼æ˜¯ MVC çš„è¿›åŒ–å½¢å¼ï¼ŒPresenter ä½œä¸ºä¸­é—´å±‚è´Ÿè´£ MV é€šä¿¡ï¼Œè§£å†³äº†ä¸¤è€…è€¦åˆé—®é¢˜ï¼Œä½† P å±‚è¿‡äºè‡ƒè‚¿ä¼šå¯¼è‡´ç»´æŠ¤é—®é¢˜</p>
<p>4.MVVM æ¨¡å¼åœ¨å‰ç«¯é¢†åŸŸæœ‰å¹¿æ³›åº”ç”¨ï¼Œå®ƒä¸ä»…è§£å†³ MV è€¦åˆé—®é¢˜ï¼Œè¿˜åŒæ—¶è§£å†³äº†ç»´æŠ¤ä¸¤è€…æ˜ å°„å…³ç³»çš„å¤§é‡ç¹æ‚ä»£ç å’Œ DOM æ“ä½œä»£ç ï¼Œåœ¨æé«˜å¼€å‘æ•ˆç‡ã€å¯è¯»æ€§åŒæ—¶è¿˜ä¿æŒäº†ä¼˜è¶Šçš„æ€§èƒ½é—®é¢˜</p>
<hr>
<h4 id="Vue3-0-æ–°ç‰¹æ€§"><a href="#Vue3-0-æ–°ç‰¹æ€§" class="headerlink" title="Vue3.0 æ–°ç‰¹æ€§"></a>Vue3.0 æ–°ç‰¹æ€§</h4><p>æ›´å¿«ï¼š 1.è™šæ‹Ÿ DOM é‡å†™ 2.ä¼˜åŒ– slots çš„ç”Ÿæˆ 3.é™æ€æ ‘æå‡ 4.é™æ€å±æ€§æå‡ 5.åŸºäº Proxy çš„å“åº”å¼ç³»ç»Ÿ</p>
<p>æ›´å°ï¼š é€šè¿‡æ‘‡æ ‘ä¼˜åŒ–æ ¸å¿ƒåº“ä½“ç§¯</p>
<p>æ›´å®¹æ˜“ç»´æŠ¤ï¼š TypeScript + æ¨¡å—åŒ–</p>
<p>æ›´å‹å¥½ï¼š è·¨å¹³å°ï¼Œç¼–è¯‘å™¨æ ¸å¿ƒå’Œè¿è¡Œæ—¶æ ¸å¿ƒä¸å¹³å°æ— å…³ï¼Œä½¿å¾— Vue æ›´å®¹æ˜“ä¸ä»»ä½•å¹³å°ï¼ˆWebã€Androidã€iosï¼‰ä¸€èµ·ä½¿ç”¨</p>
<p>æ›´å®¹æ˜“ä½¿ç”¨ï¼š 1.æ”¹è¿›çš„ TypeScript æ”¯æŒï¼Œç¼–è¾‘å™¨èƒ½æä¾›å¼ºæœ‰åŠ›çš„ç±»å‹æ£€æŸ¥å’Œé”™è¯¯åŠè­¦å‘Š 2.æ›´å¥½çš„è°ƒè¯•æ”¯æŒ 3.ç‹¬ç«‹çš„å“åº”å¼æ¨¡å— 4.Composition API</p>
<p>1.è™šæ‹Ÿ DOM é‡å†™</p>
<p>æœŸå¾…æ›´å¤šçš„ç¼–è¯‘æ—¶æç¤ºå‡å°‘è¿è¡Œæ—¶å¼€é”€ï¼Œä½¿ç”¨æ›´æœ‰æ•ˆçš„ä»£ç åˆ›å»ºè™šæ‹ŸèŠ‚ç‚¹ã€‚</p>
<p>ç»„ä»¶å¿«é€Ÿè·¯å¾„+å•ä¸ªè°ƒç”¨+å­èŠ‚ç‚¹ç±»å‹æ£€æµ‹</p>
<pre><code>è·³è¿‡ä¸å¿…è¦çš„æ¡ä»¶åˆ†æ”¯

jså¼•æ“æ›´å®¹æ˜“ä¼˜åŒ–</code></pre>
<p>2.ä¼˜åŒ– slots ç”Ÿæˆ</p>
<p>vue3 ä¸­å¯ä»¥å•ç‹¬é‡æ–°æ¸²æŸ“çˆ¶çº§å’Œå­çº§</p>
<pre><code>ç¡®ä¿å®ä¾‹æ­£ç¡®çš„è·Ÿè¸ªä¾èµ–å…³ç³»

é¿å…ä¸å¿…è¦çš„çˆ¶å­ç»„ä»¶é‡æ–°æ¸²æŸ“</code></pre>
<p>3.é™æ€æ ‘æå‡</p>
<p>ä½¿ç”¨é™æ€æ ‘æå‡ï¼Œæ„å‘³ç€ vue 3 çš„ç¼–è¯‘å™¨èƒ½å¤Ÿæ£€æµ‹åˆ°ä»€ä¹ˆæ˜¯é™æ€çš„ï¼Œç„¶åå°†å…¶æå‡ï¼Œä»è€Œé™ä½äº†æ¸²æŸ“æˆæœ¬</p>
<pre><code>è·³è¿‡ä¿®è¡¥æ•´æ£µæ ‘ï¼Œä»è€Œé™ä½æ¸²æŸ“æˆæœ¬

å³ä½¿å¤šæ¬¡å‡ºç°ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ</code></pre>
<p>4.é™æ€å±æ€§æå‡</p>
<p>ä½¿ç”¨é™æ€å±æ€§æå‡ï¼ŒVue æ‰“è¡¥ä¸æ—¶å°†è·³è¿‡è¿™äº›å±æ€§ä¸ä¼šæ”¹å˜çš„èŠ‚ç‚¹</p>
<p>5.åŸºäº Proxy çš„æ•°æ®å“åº”å¼</p>
<p>Vue2 çš„å“åº”å¼ç³»ç»Ÿä½¿ç”¨ Object.defineProperty çš„ getter å’Œ setterã€‚Vue3 å°†ä½¿ç”¨ ES2015 Proxy ä½œä¸ºå…¶è§‚å¯Ÿæœºåˆ¶ï¼Œè¿™å°†å¸¦æ¥ä»¥ä¸‹å˜åŒ–</p>
<pre><code>ç»„ä»¶å®ä¾‹åˆå§‹åŒ–çš„é€Ÿåº¦æå‡100%

ä½¿ç”¨ProxyèŠ‚çœä»¥å‰ä¸€åŠçš„å†…å­˜å¼€é”€ï¼ŒåŠ å¿«é€Ÿåº¦ï¼Œä½†æ˜¯å­˜åœ¨ä½æµè§ˆå™¨ç‰ˆæœ¬çš„ä¸å…¼å®¹

ä¸ºäº†ç»§ç»­æ”¯æŒIE11ï¼ŒVue3å°†å‘å¸ƒä¸€ä¸ªæ”¯æŒæ—§è§‚å¯Ÿæœºåˆ¶å’Œæ–°Proxyç‰ˆæœ¬çš„æ„å»º</code></pre>
<p>6.é«˜å¯ç»´æŠ¤æ€§</p>
<p>Vue3 å°†å¸¦æ¥æ›´å¯ç»´æŠ¤çš„æºä»£ç ï¼Œå®ƒä¸ä»…ä¼šä½¿ç”¨ TypeScriptï¼Œè€Œä¸”è®¸å¤šåŒ…è¢«è§£è€¦ï¼Œæ›´åŠ æ¨¡å—åŒ–</p>
<hr>
<h4 id="å¯¹-Vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼ˆç»“åˆç”Ÿå‘½å‘¨æœŸå›¾ï¼‰"><a href="#å¯¹-Vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼ˆç»“åˆç”Ÿå‘½å‘¨æœŸå›¾ï¼‰" class="headerlink" title="å¯¹ Vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼ˆç»“åˆç”Ÿå‘½å‘¨æœŸå›¾ï¼‰"></a>å¯¹ Vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼ˆç»“åˆç”Ÿå‘½å‘¨æœŸå›¾ï¼‰</h4><p>1.å®ä¾‹åŒ– new Vue()</p>
<pre><code>å®ä¾‹åŒ–ä¹‹åï¼Œä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚æ ¹æ®Vueæºç ï¼Œå¯çœ‹åˆ°Vueæœ¬è´¨å°±æ˜¯ä¸€ä¸ªfunctionã€‚new Vue()çš„è¿‡ç¨‹å°±æ˜¯åˆå§‹åŒ–
å‚æ•°ã€ç”Ÿå‘½å‘¨æœŸã€äº‹ä»¶ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ï¼ˆsrc/core/instance/index.jsï¼‰</code></pre>
<p>2.åˆå§‹åŒ–äº‹ä»¶ ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p>
<pre><code>æ­¤æ—¶è¿™ä¸ªå¯¹è±¡èº«ä¸Šåªæœ‰é»˜è®¤çš„ä¸€äº›ç”Ÿå‘½å‘¨æœŸå’Œé»˜è®¤äº‹ä»¶ï¼Œå…¶ä»–ä¸œè¥¿æœªè¢«åˆ›å»º</code></pre>
<p>3.beforeCreated(åˆ›å»ºå‰)</p>
<pre><code>åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹ï¼ˆdata observeï¼‰å’Œevent/watcheräº‹ä»¶é…ç½®ä¹‹å‰å°±è¢«è°ƒç”¨ã€‚æ­¤æ—¶æ‹¿ä¸åˆ°dataå’Œ
propsé‡Œé¢çš„æ•°æ®ï¼Œdataå’Œmethodsä¸­çš„æ•°æ®è¿˜æ²¡åˆå§‹åŒ–</code></pre>
<p>4.æ³¨å°„å“åº”</p>
<pre><code>injection(æ³¨å°„å™¨) reactivity(å“åº”)ç»™æ•°æ®æ·»åŠ è§‚å¯Ÿè€…</code></pre>
<p>5.created(åˆ›å»ºå)</p>
<pre><code>åœ¨å®ä¾‹åˆ›å»ºåè¢«ç«‹å³è°ƒç”¨ï¼Œæ­¤æ—¶å®ä¾‹å·²å®Œæˆæ•°æ®è§‚æµ‹ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œwatch/eventäº‹ä»¶å›è°ƒï¼ŒæŒ‚è½½é˜¶æ®µè¿˜
æ²¡å¼€å§‹ï¼Œ$elå°šä¸å¯ç”¨ã€‚å› ä¸ºä¸Šä¸€æ­¥ç»™æ•°æ®æ·»åŠ äº†è§‚å¯Ÿè€…ï¼Œæ‰€ä»¥ç°åœ¨å¯è®¿é—®åˆ°dataé‡Œçš„æ•°æ®ã€‚æ­¤é’©å­å¸¸ç”¨ï¼Œå¯ä»¥
è¯·æ±‚æ•°æ®ã€‚å¦‚æœè¦è°ƒç”¨methodsä¸­çš„æ–¹æ³•æˆ–è€…æ“ä½œdataä¸­çš„æ•°æ®ï¼Œè¦åœ¨createdé‡Œæ“ä½œã€‚å› ä¸ºè¯·æ±‚æ•°æ®æ˜¯å¼‚æ­¥çš„ï¼Œ
æ‰€ä»¥å‘é€è¯·æ±‚å®œæ—©ä¸å®œè¿Ÿã€‚ï¼ˆsrc/core/instance/init.js initMixinï¼‰</code></pre>
<p>6.æ˜¯å¦å­˜åœ¨ el</p>
<pre><code>elæŒ‡æ˜æŒ‚è½½ç›®æ ‡ï¼Œè¿™ä¸ªæ­¥éª¤å°±æ˜¯åˆ¤æ–­æ˜¯å¦æœ‰elï¼Œå¦‚æœæ²¡æœ‰å°±åˆ¤æ–­æœ‰æ²¡æœ‰è°ƒç”¨å®ä¾‹ä¸Šçš„$mount(&#39;&#39;)æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ˜¯
ç­‰ä»·çš„ã€‚ï¼ˆsrc/core/instance/init.jsï¼‰</code></pre>
<p>7.åˆ¤æ–­æ˜¯å¦æœ‰ template</p>
<pre><code>å¦‚æœæœ‰åˆ™æ¸²æŸ“templateé‡Œçš„å†…å®¹
å¦‚æœæ²¡æœ‰åˆ™æ¸²æŸ“elæŒ‡æ˜çš„æŒ‚è½½å¯¹è±¡é‡Œçš„å†…å®¹ï¼ˆsrc/platforms/web/entry-runtime-with-compiler.js $mountï¼‰</code></pre>
<p>8.beforeMount(æŒ‚è½½å‰)</p>
<pre><code>æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ï¼Œç›¸å…³renderå‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</code></pre>
<p>9.æ›¿æ¢ el</p>
<pre><code>è¿™æ—¶ä¼šåœ¨å®é‡Œä¾‹ä¸Šåˆ›å»ºä¸€ä¸ªelï¼ˆvm.$elï¼‰ï¼Œæ›¿æ¢æ‰åŸæ¥çš„elï¼Œä¹Ÿæ˜¯çœŸæ­£çš„æŒ‚è½½</code></pre>
<p>10.mounted(æŒ‚è½½å)</p>
<pre><code>å®ä¾‹æŒ‚è½½åè°ƒç”¨æ­¤æ—¶elå·²è¢«æ–°åˆ›å»ºçš„vm.$elæ›¿æ¢ï¼Œè‹¥æ ¹å®ä¾‹æŒ‚è½½åˆ°äº†æ–‡æ¡£ä¸Šçš„å…ƒç´ ä¸Šï¼Œå½“mountedè°ƒç”¨æ—¶vm.$el
ä¹Ÿåœ¨æ–‡æ¡£å†…ã€‚æ³¨æ„mountedä¸ä¼šä¿è¯æ‰€æœ‰å­ç»„ä»¶ä¸€èµ·æŒ‚è½½ã€‚DOMå·²åŠ è½½å®Œæˆï¼Œå¯ä»¥æ“ä½œDOMäº†ã€‚åªè¦æ‰§è¡Œå®Œmountedï¼Œ
å°±ä»£è¡¨æ•´ä¸ªvueå®ä¾‹å·²ç»åˆå§‹åŒ–å®Œæ¯•ï¼Œä¸€èˆ¬åœ¨æ­¤æ“ä½œDOM
ï¼ˆsrc/platforms/web/runtime/index.js $mount -&gt; src/core/instance/lifecycle.js mountComponentï¼‰</code></pre>
<p>11.dataChange</p>
<pre><code>å½“æ•°æ®å˜åŒ–æ—¶ï¼š

åœ¨beforeUpdateå‘ç”Ÿåœ¨è™šæ‹Ÿdomæ‰“è¡¥ä¸å‰ï¼Œè¿™æ—¶é€‚åˆåœ¨æ›´æ–°å‰è®¿é—®ç°æœ‰domï¼Œå¦‚æ‰‹åŠ¨ç§»é™¤å·²æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨
åœ¨beforeUpdate(æ›´æ–°å‰)å’Œupdated(æ›´æ–°å)ä¹‹é—´ä¼šè¿›è¡ŒDOMçš„é‡æ–°æ¸²æŸ“å’Œè¡¥å…¨
ï¼ˆsrc/core/instance/lifecycle.jsï¼‰

æ¥ç€æ˜¯updatedï¼ˆsrc/core/observer/scheduler.js callUpdatedHooksï¼‰ï¼šç»„ä»¶domå·²æ›´æ–°ï¼Œå¯æ‰§è¡Œä¾èµ–äº
domçš„æ“ä½œï¼Œå¤šæ•°æƒ…å†µä¸‹åº”åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ã€‚
å¦‚éœ€æ”¹å˜ï¼Œæœ€å¥½ä½¿ç”¨watcheræˆ–è®¡ç®—å±æ€§å–ä»£ã€‚æ³¨æ„updatedä¸ä¼šä¿è¯æ‰€æœ‰å­ç»„ä»¶ä¸€èµ·è¢«é‡ç»˜</code></pre>
<p>12.callDestory(src/core/instance/lifecycle.js lifecycleMixin $destroy)</p>
<pre><code>beforeDestory(é”€æ¯å‰)å’Œdestroy(é”€æ¯å)è¿™ä¸¤ä¸ªé’©å­æ˜¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨å®ä¾‹ä¸Šçš„$destroyæ–¹æ³•æ‰ä¼šè§¦å‘

å½“$destroyæ–¹æ³•è°ƒç”¨å

beforeDestroyé”€æ¯å‰è§¦å‘ï¼šæ­¤æ—¶å®ä¾‹ä»å¯ç”¨

ç§»é™¤æ•°æ®åŠ«æŒã€äº‹ä»¶ç›‘å¬ã€å­ç»„ä»¶å±æ€§ æ‰€æœ‰ä¸œè¥¿è¿˜ä¿ç•™åªæ˜¯ä¸èƒ½ä¿®æ”¹

destroyé”€æ¯åè§¦å‘ï¼š Vueå®ä¾‹æ‰€æœ‰æŒ‡ä»¤è¢«è§£ç»‘ï¼Œæ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨è¢«ç§»é™¤ï¼Œæ‰€æœ‰å­å®ä¾‹ä¹Ÿè¢«é”€æ¯</code></pre>
<p>13.æ–°å¢é’©å­</p>
<pre><code>activated: keep-aliveç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨ï¼Œç±»ä¼¼createdæ²¡æœ‰çœŸæ­£åˆ›å»ºï¼Œåªæ˜¯æ¿€æ´»

deactivated: keep-aliveç»„ä»¶åœç”¨æ—¶è°ƒç”¨ï¼Œç±»ä¼¼destroyedæ²¡æœ‰çœŸæ­£ç§»é™¤ï¼Œåªæ˜¯ç¦ç”¨

åœ¨2.2.0åŠå…¶æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œactivatedå’Œdeactivatedå°†ä¼šåœ¨æ ‘å†…çš„æ‰€æœ‰åµŒå¥—ç»„ä»¶ä¸­è§¦å‘</code></pre>
<h5 id="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº"><a href="#çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº" class="headerlink" title="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº"></a>çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº</h5><p><a target="_blank" rel="noopener" href="https://m.html.cn/qa/vue-js/22535.html">https://m.html.cn/qa/vue-js/22535.html</a></p>
<hr>
<h4 id="nextTick-åŸç†"><a href="#nextTick-åŸç†" class="headerlink" title="nextTick åŸç†"></a>nextTick åŸç†</h4><p>vue å¦‚ä½•æ£€æµ‹åˆ° DOM æ›´æ–°å®Œæ¯•ï¼šMutationObserver API<br>MutationObserverï¼šæ˜¯ HTML5 æ–°å¢å±æ€§ï¼Œç”¨äºç›‘å¬ DOM ä¿®æ”¹äº‹ä»¶ï¼Œèƒ½è§å¬åˆ°èŠ‚ç‚¹çš„å±æ€§ã€æ–‡æœ¬å†…å®¹ã€å­èŠ‚ç‚¹ç­‰çš„æ”¹åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var observer &#x3D; new MutationObserver(function() &#123;</span><br><span class="line">    console.log(&#39;DOMè¢«ä¿®æ”¹äº†&#39;)</span><br><span class="line">&#125;)</span><br><span class="line">var article &#x3D; document.querySelector(&#39;article&#39;)</span><br><span class="line">observer.observer(article)</span><br></pre></td></tr></table></figure>

<p>vue ä¸­çš„ nextTick å®ç°(src/core/util/env.js):</p>
<pre><code>å¦‚æœæ£€æµ‹åˆ°æµè§ˆå™¨æ”¯æŒMutationObserveråˆ™åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œç›‘å¬æ–‡æœ¬èŠ‚ç‚¹çš„æ”¹åŠ¨ï¼Œä»¥æ­¤è§¦å‘nextTickHandlerï¼Œä¹Ÿå°±
æ˜¯domæ›´æ–°å®Œæ¯•çš„å›è°ƒçš„æ‰§è¡Œ</code></pre>
<p>äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼ˆEvent Loopï¼‰</p>
<pre><code>æµè§ˆå™¨ä½¿ç”¨äº‹ä»¶å¾ªç¯æœºåˆ¶åè°ƒå„ç§äº‹ä»¶çš„å¤„ç†ã€‚
äº‹ä»¶å¾ªç¯ä¼šç»´æŠ¤ä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œäº‹ä»¶ä½œä¸ºä»»åŠ¡æºå¾€é˜Ÿåˆ—ä¸­åŠ å…¥ä»»åŠ¡ï¼Œæ¯æ‰§è¡Œå®Œä¸€ä¸ªå°±ä»é˜Ÿåˆ—ä¸­ç§»é™¤å®ƒï¼Œè¿™å°±æ˜¯ä¸€æ¬¡äº‹
ä»¶å¾ªç¯

setTimeOutå°±æ˜¯åœ¨é˜Ÿåˆ—æœ«å°¾åŠ å…¥äº†ä¸€ä¸ªä»»åŠ¡

æ¯æ¬¡äº‹ä»¶å¾ªç¯æœ€åéƒ½ä¼šæœ‰ä¸€ä¸ªui renderæ­¥éª¤å³æ›´æ–°dom
forå¾ªç¯åŒå±ä¸€ä¸ªtaskï¼Œæµè§ˆå™¨åªåœ¨taskæ‰§è¡Œå®Œåè¿›è¡Œä¸€æ¬¡domæ›´æ–°

æ‰€ä»¥vueè¿ç”¨æ­¤æ€è·¯ï¼Œå¹¶ä¸æ˜¯ç”¨MutationObserverç›‘å¬domï¼Œè€Œæ˜¯ç”¨é˜Ÿåˆ—æ§åˆ¶çš„æ–¹å¼è¾¾åˆ°ç›®çš„

vueæ•°æ®å“åº”è¿‡ç¨‹åŒ…å«ï¼šæ•°æ®æ›´æ”¹-&gt;é€šçŸ¥watcher-&gt;æ›´æ–°domã€‚è€Œæ•°æ®æ›´æ”¹ä¸å—æˆ‘ä»¬æ§åˆ¶ï¼Œå¯èƒ½åœ¨ä»»ä½•æ—¶å€™å‘ç”Ÿï¼Œå¦‚æœåˆšå¥½
åœ¨é‡ç»˜ä¹‹å‰ï¼Œå°±ä¼šå‘ç”Ÿå¤šæ¬¡æ¸²æŸ“ï¼Œæ€§èƒ½æµªè´¹ï¼Œè¿™æ˜¯vueä¸å¸Œæœ›çš„ã€‚

äºæ˜¯vueçš„é˜Ÿåˆ—æ§åˆ¶è¿˜éœ€è¦äº†è§£microtask</code></pre>
<p>microtask å¾®ä»»åŠ¡</p>
<pre><code>æ¯æ¬¡äº‹ä»¶å¾ªç¯éƒ½åŒ…å«ä¸€ä¸ªå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œåœ¨å¾ªç¯ç»“æŸåä¾æ¬¡æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„å¾®ä»»åŠ¡å¹¶ç§»é™¤ï¼Œå†å¼€å§‹ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯

å®ä»»åŠ¡è¦ç­‰ä¸ºä»»åŠ¡æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œï¼Œå¾®ä»»åŠ¡æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§

microtaskæ­¤ç‰¹æ€§æ˜¯åšé˜Ÿåˆ—æ§åˆ¶çš„æœ€ä½³é€‰æ‹©ï¼Œvueè¿›è¡ŒDOMæ›´æ–°å†…éƒ¨ä¹Ÿæ˜¯è°ƒç”¨nextTickæ¥åšå¼‚æ­¥é˜Ÿåˆ—æ§åˆ¶ã€‚å½“æˆ‘ä»¬è°ƒç”¨
nextTickï¼Œå®ƒå°±åœ¨æ›´æ–°DOMçš„é‚£ä¸ªå¾®ä»»åŠ¡åè¿½åŠ äº†æˆ‘ä»¬è‡ªå·±çš„å›è°ƒå‡½æ•°ï¼Œä»è€Œç¡®ä¿æˆ‘ä»¬çš„ä»£ç åœ¨DOMæ›´æ–°åæ‰§è¡Œï¼Œä¹Ÿé¿
å…äº†setTimeOutå¯èƒ½å­˜åœ¨çš„å¤šæ¬¡æ‰§è¡Œé—®é¢˜

å¸¸è§å¾®ä»»åŠ¡ï¼šPromiseã€MutationObserverã€Object.observer(å·²åºŸå¼ƒ)ã€ä»¥åŠnode.jsä¸­çš„process.nextTick

vueç”¨MutationObserveræ˜¯æƒ³åˆ©ç”¨å…¶å¾®ä»»åŠ¡ç‰¹æ€§è€Œå¹¶éåšDOMç›‘å¬ï¼Œç”¨ä¸ç”¨éƒ½è¡Œï¼Œåœ¨vue2.5ç‰ˆæœ¬ä¸­å·²åˆ å»äº†
MutationObserverç›¸å…³ä»£ç ï¼Œå› ä¸ºå®ƒæ˜¯HTML5æ–°å¢çš„ç‰¹æ€§ï¼Œåœ¨IOSä¸Šå°šæœ‰bug

æœ€ä¼˜çš„å¾®ä»»åŠ¡ç­–ç•¥å°±æ˜¯Promiseï¼Œä½†æ˜¯Promiseæ˜¯es6æ–°ç‰¹æ€§ï¼Œä¹Ÿå­˜åœ¨å…¼å®¹é—®é¢˜ï¼Œäºæ˜¯vueé¢ä¸´é™çº§ç­–ç•¥</code></pre>
<p>Vue çš„é™çº§ç­–ç•¥</p>
<pre><code>å¦‚æœå½“å‰ç¯å¢ƒä¸æ”¯æŒPromiseï¼Œvueåªèƒ½é™çº§ä¸ºå®ä»»åŠ¡(macrotask)æ¥åšé˜Ÿåˆ—æ§åˆ¶

setTimeOutæ‰§è¡Œçš„æœ€å°æ—¶é—´é—´éš”æ˜¯4mså·¦å³ï¼Œä¼šæ¯”è¾ƒå»¶è¿Ÿï¼Œä¸æ˜¯æœ€ä¼˜æ–¹æ¡ˆ

åœ¨vue2.5æºç ä¸­ï¼Œå®ä»»åŠ¡é™çº§æ–¹æ¡ˆä¾æ¬¡ä¸ºï¼šsetimmadiate, MessageChannel, setTimeOut
setimmadiateæœ€ç†æƒ³ä½†æ˜¯åªæœ‰IEå’Œnode.jsæ”¯æŒ
MessageChannelçš„onmessageå›è°ƒä¹Ÿæ˜¯microtaskï¼Œä½†ä¹Ÿæ˜¯ä¸ªæ–°APIï¼Œé¢ä¸´å…¼å®¹é—®é¢˜
setTimeOutæ˜¯å…œåº•æ–¹æ¡ˆ</code></pre>
<p>æ€»ç»“ï¼š</p>
<pre><code>1.vueç”¨å¼‚æ­¥é˜Ÿåˆ—çš„æ–¹å¼æ§åˆ¶DOMæ›´æ–°å’ŒnextTickå›è°ƒå…ˆåæ‰§è¡Œ

2.microtaskå› ä¸ºå…¶ä¼˜å…ˆçº§ç‰¹æ€§ï¼Œèƒ½ç¡®ä¿é˜Ÿåˆ—ä¸­çš„å¾®ä»»åŠ¡åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯å‰è¢«æ‰§è¡Œå®Œæ¯•

3.å› ä¸ºå…¼å®¹æ€§é—®é¢˜ï¼Œvueä¸å¾—ä¸åšäº†microtaskå‘macrotaskçš„é™çº§æ–¹æ¡ˆ

4.è§¦å‘æ—¶æœºï¼šåŒä¸€äº‹ä»¶å¾ªç¯ä¸­çš„æ•°æ®å˜åŒ–åï¼Œdomå®Œæˆæ›´æ–°ï¼Œç«‹å³æ‰§è¡ŒnextTickçš„å›è°ƒ</code></pre>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/leiting/p/13174545.html">https://www.cnblogs.com/leiting/p/13174545.html</a></p>
<hr>
<h4 id="Vue-å“åº”å¼åŸç†"><a href="#Vue-å“åº”å¼åŸç†" class="headerlink" title="Vue å“åº”å¼åŸç†"></a>Vue å“åº”å¼åŸç†</h4><p>è®¾è®¡æ€æƒ³ï¼šè§‚å¯Ÿè€…æ¨¡å¼</p>
<p>Dep å¯¹è±¡ï¼šDependency ä¾èµ–ä¸­å¿ƒã€‚ä¾èµ–çš„ç®€å†™ã€‚åŒ…å«ä¸‰ä¸ªä¸»è¦å±æ€§ï¼šidï¼Œsubsï¼Œtarget å’Œå››ä¸ªä¸»è¦å‡½æ•° addSubï¼ŒremoveSubï¼Œdependï¼Œ<br>notifyï¼Œæ˜¯è§‚å¯Ÿè€…çš„ä¾èµ–é›†åˆï¼Œè´Ÿè´£åœ¨æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½¿ç”¨ notify è§¦å‘ä¿å­˜åœ¨ subs ä¸‹çš„è®¢é˜…åˆ—è¡¨ï¼Œä¾æ¬¡æ›´æ–°æ•°æ®å’Œ DOM</p>
<p>Observer å¯¹è±¡ï¼šå³è§‚å¯Ÿè€…ï¼ŒåŒ…å«ä¸¤ä¸ªä¸»è¦å±æ€§ valueï¼Œdepã€‚åšæ³•æ˜¯ä½¿ç”¨ getterã€setter æ–¹æ³•è¦†ç›–é»˜è®¤çš„å–å€¼å’Œèµ‹å€¼æ“ä½œï¼Œå°†å¯¹è±¡<br>å°è£…ä¸ºå“åº”å¼å¯¹è±¡ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨æ—¶æ›´æ–°ä¾èµ–åˆ—è¡¨ï¼Œæ›´æ–°å€¼æ—¶è§¦å‘è®¢é˜…è€…ã€‚ç»‘å®šåœ¨å¯¹è±¡çš„ ob åŸå‹é“¾å±æ€§ä¸Š</p>
<p>Watcherï¼š è®¢é˜…è€…ï¼Œå½“æŸä¸ªè§‚å¯Ÿè€…è§‚å¯Ÿåˆ°æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œè¿™ä¸ªå˜åŒ–ç»è¿‡æ¶ˆæ¯è°ƒåº¦ä¸­å¿ƒï¼Œæœ€ç»ˆä¼šä¼ é€’åˆ°æ‰€æœ‰è¯¥è§‚å¯Ÿè€…å¯¹åº”çš„è®¢é˜…è€…èº«ä¸Šï¼Œç„¶åè¿™äº›è®¢é˜…è€…åˆ†åˆ«æ‰§è¡Œè‡ªèº«çš„ä¸šåŠ¡å›è°ƒå³å¯</p>
<p>vue æ•°æ®åŒå‘ç»‘å®šé€šè¿‡â€˜æ•°æ®åŠ«æŒâ€™ + è®¢é˜…å‘å¸ƒæ¨¡å¼å®ç°</p>
<p>æ•°æ®åŠ«æŒ: æŒ‡çš„æ˜¯åœ¨è®¿é—®æˆ–è€…ä¿®æ”¹å¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œé€šè¿‡ä¸€æ®µä»£ç æ‹¦æˆªè¿™ä¸ªè¡Œä¸ºï¼Œè¿›è¡Œ é¢å¤–çš„æ“ä½œæˆ–è€…ä¿®æ”¹è¿”å›ç»“æœ å…¸å‹çš„æœ‰</p>
<pre><code>1.Object.defineProperty()
2.es6 ä¸­ Proxy å¯¹è±¡(å…¼å®¹æ€§ä¸å¤ªå¥½)
vue2.x ä½¿ç”¨ Object.defineProperty();
vue3.x ä½¿ç”¨ Proxy;</code></pre>
<p>è®¢é˜…å‘å¸ƒæ¨¡å¼: å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾ èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ è®¢é˜…å‘å¸ƒæ¨¡å¼<br>ä¸­äº‹ä»¶ç»Ÿä¸€ç”±å¤„ç†ä¸­å¿ƒå¤„ç†ï¼Œè®¢é˜…è€…å‘å¸ƒè€…äº’ä¸å¹²æ‰°ã€‚</p>
<p>ä¼˜ç‚¹: å®ç°æ›´å¤šçš„æ§åˆ¶ï¼Œåšæƒé™å¤„ç†ï¼ŒèŠ‚æµæ§åˆ¶ä¹‹ç±»ï¼Œä¾‹å¦‚:å‘å¸ƒäº†å¾ˆå¤šæ¶ˆæ¯ï¼Œä½†æ˜¯ä¸æ˜¯ æ‰€æœ‰è®¢é˜…è€…éƒ½è¦æ¥æ”¶</p>
<p>vue ä¸­å¦‚ä½•å®ç°:</p>
<pre><code>åˆ©ç”¨ Object.defineProperty();æŠŠå†…éƒ¨è§£è€¦ä¸ºä¸‰éƒ¨åˆ†
Observer: é€’å½’çš„ç›‘å¬å¯¹è±¡ä¸Šçš„æ‰€æœ‰å±æ€§ï¼Œå½“å±æ€§æ”¹å˜æ—¶è§¦å‘å¯¹åº”çš„ watcher
watcher(è§‚å¯Ÿè€…): å½“ç›‘å¬çš„æ•°æ®å€¼ä¿®æ”¹æ—¶ï¼Œæ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°ï¼Œæ›´æ–°æ¨¡æ¿å†…å®¹ dep:é“¾æ¥ observer å’Œ watcherï¼Œæ¯
ä¸€ä¸ªobserver å¯¹åº”ä¸€ä¸ª dep,å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ï¼Œä¿å­˜ ä¸è¯¥ observer ç›¸å…³çš„ watcher
proxy å®ç°è§‚å¯Ÿè€…æ¨¡å¼: è§‚å¯Ÿè€…æ¨¡å¼(Observer mode)æŒ‡çš„æ˜¯å‡½æ•°è‡ªåŠ¨è§‚å¯Ÿæ•°æ®å¯¹è±¡ï¼Œä¸€ æ—¦å¯¹è±¡æœ‰å˜åŒ–ï¼Œå‡½æ•°å°±ä¼šè‡ªåŠ¨æ‰§
è¡Œ</code></pre>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6868085927685095437">https://juejin.cn/post/6868085927685095437</a></p>
<hr>
<h4 id="vueåŒå‘ç»‘å®šçš„åŸç†"><a href="#vueåŒå‘ç»‘å®šçš„åŸç†" class="headerlink" title="vueåŒå‘ç»‘å®šçš„åŸç†"></a>vueåŒå‘ç»‘å®šçš„åŸç†</h4><p>1ï¼‰v-model å±æ€§<br>é’ˆå¯¹äº input çš„ v-model åŒå‘æ•°æ®ç»‘å®šå®é™…ä¸Šå°±æ˜¯é€šè¿‡å­ç»„ä»¶ä¸­çš„ $emit æ–¹æ³•æ´¾å‘ input äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶ç›‘å¬ input äº‹ä»¶ä¸­ä¼ é€’çš„ value å€¼ï¼Œå¹¶å­˜å‚¨åœ¨çˆ¶ç»„ä»¶ data ä¸­ï¼›ç„¶åçˆ¶ç»„ä»¶å†é€šè¿‡ prop çš„å½¢å¼ä¼ é€’ç»™å­ç»„ä»¶ value å€¼ï¼Œå†å­ç»„ä»¶ä¸­ç»‘å®š input çš„ value å±æ€§å³å¯ã€‚<br>å…¶ä»–å…ƒç´ ä½¿ç”¨ v-model åŒå‘æ•°æ®ç»‘å®šå®é™…ä¸Šå°±æ˜¯ï¼Œé€šè¿‡ç›‘å¬ change äº‹ä»¶ã€‚ä»¥åŠ$emit æ–¹æ³•æ´¾å‘ï¼Œå†é€šè¿‡ prop çš„å½¢å¼ä¼ é€’ã€‚</p>
<p>2ï¼‰.sync ä¿®é¥°ç¬¦<br>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®çš„æ–¹å¼æœ‰å¤šç§ï¼Œprops æ˜¯å…¶ä¸­çš„ä¸€ç§ï¼Œä½†æ˜¯å®ƒçš„å±€é™åœ¨äºæ•°æ®åªèƒ½å•å‘ä¼ é€’ï¼Œå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹ prop å±æ€§ï¼Œä½†æ˜¯ç¢°åˆ°å­ç»„ä»¶éœ€è¦ä¿®æ”¹çˆ¶ç»„ä»¶çš„æƒ…å†µæ€ä¹ˆåŠå‘¢ï¼Ÿ<br>çˆ¶ç»„ä»¶ä¸­å¹¶æ²¡æœ‰å®šä¹‰è¿‡ update äº‹ä»¶ï¼Œä½†æ˜¯å´å¯ä»¥å®Œæˆ prop å±æ€§ page çš„ä¿®æ”¹ï¼Œè¿™å°±æ˜¯ sync è¯­æ³•ç³–çš„ä½œç”¨ã€‚</p>
<hr>
<h4 id="Object-defineProperty-å’Œ-Proxy-çš„åŒºåˆ«"><a href="#Object-defineProperty-å’Œ-Proxy-çš„åŒºåˆ«" class="headerlink" title="Object.defineProperty å’Œ Proxy çš„åŒºåˆ«"></a>Object.defineProperty å’Œ Proxy çš„åŒºåˆ«</h4><p>defineproperty åªèƒ½ç›‘å¬æŸä¸ªå±æ€§ä¸èƒ½å…¨å¯¹è±¡ç›‘å¬ï¼Œproxy ä¸ç”¨è®¾ç½®å…·ä½“å±æ€§</p>
<pre><code>definepropertyç›‘å¬éœ€è¦çŸ¥é“é‚£ä¸ªå¯¹è±¡çš„é‚£ä¸ªå±æ€§ï¼Œè€Œproxyåªéœ€è¦çŸ¥é“é‚£ä¸ªå¯¹è±¡å°±å¯ä»¥äº†ã€‚ä¹Ÿå°±æ˜¯ä¼šçœå»for in å¾ªç¯
æé«˜äº†æ•ˆç‡</code></pre>
<p>proxy ä¸éœ€è¦å€ŸåŠ©å¤–éƒ¨ valueï¼Œä¹Ÿæœ‰å•ç‹¬ç›¸é…çš„å¯¹è±¡å³ Reflect</p>
<pre><code>egï¼š
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var ob&#x3D;&#123;a:1,b:2&#125;</span><br></pre></td></tr></table></figure>
åœ¨proxyçš„geté‡Œé¢æœ‰targetï¼Œkeyï¼Œreceiverä¸‰ä¸ªå€¼ï¼Œå…¶ä¸­targetæ˜¯å¯¹è±¡obï¼Œkeyæ˜¯ob.aï¼Œreceiveræ˜¯ï¼Œseté‡Œé¢é™¤äº†è¿™
ä¸‰ä¸ªé¢å¤–å¤šåŠ äº†ä¸€ä¸ªvalueï¼Œvalueæ˜¯ä¼ å‡ºæ¥çš„æ–°å€¼ã€‚æ‰€ä»¥åœ¨geté‡Œreturnçš„å°±æ˜¯target[key]ï¼Œseté‡Œé¢returnçš„æ˜¯
target[key]=valueæˆ–è€…ç”¨proxyé‡Œçš„Reflect.set(targetï¼Œkeyï¼Œvalueï¼‰è¿™æ ·å†™ä¼˜é›…ä¸€ç‚¹</code></pre>
<p>ä¸ä¼šæ±¡æŸ“åŸå¯¹è±¡ï¼ˆå…³é”®åŒºåˆ«ï¼‰</p>
<pre><code>proxyå»ä»£ç†äº†obï¼Œä»–ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ä»£ç†å¯¹è±¡ä¸ä¼šå¯¹åŸå¯¹è±¡obè¿›è¡Œæ”¹åŠ¨ï¼Œè€Œdefinepropertyæ˜¯å»ä¿®æ”¹å…ƒå¯¹è±¡ï¼Œä¿®æ”¹å…ƒå¯¹
è±¡çš„å±æ€§ï¼Œè€Œproxyåªæ˜¯å¯¹å…ƒå¯¹è±¡è¿›è¡Œä»£ç†å¹¶ç»™å‡ºä¸€ä¸ªæ–°çš„ä»£ç†å¯¹è±¡</code></pre>
<hr>
<h4 id="æ¨¡æ¿è¯­æ³•çš„å®ç°åŸç†"><a href="#æ¨¡æ¿è¯­æ³•çš„å®ç°åŸç†" class="headerlink" title="æ¨¡æ¿è¯­æ³•çš„å®ç°åŸç†"></a>æ¨¡æ¿è¯­æ³•çš„å®ç°åŸç†</h4><p>Vue é€šè¿‡å®ƒçš„ç¼–è¯‘å™¨å°†æ¨¡æ¿ç¼–è¯‘æˆæ¸²æŸ“å‡½æ•°ï¼Œåœ¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶åœ¨æ­¤æ‰§è¡Œæ¸²æŸ“å‡½æ•°ï¼Œé€šè¿‡å¯¹æ¯”ä¸¤æ¬¡æ‰§è¡Œç»“æœå¾—<br>å‡ºè¦åšçš„ dom æ“ä½œ</p>
<hr>
<h4 id="vueæ’æ§½"><a href="#vueæ’æ§½" class="headerlink" title="vueæ’æ§½"></a>vueæ’æ§½</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903920037281805#heading-2">https://juejin.cn/post/6844903920037281805#heading-2</a></p>
<hr>
<h4 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h4><p>ç”¨æ³• <a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903919273918477">https://juejin.cn/post/6844903919273918477</a></p>
<p>åŸç† <a target="_blank" rel="noopener" href="https://bbchin.com/archives/source-keep-alive">https://bbchin.com/archives/source-keep-alive</a></p>
<hr>
<h4 id="v-ifå’Œv-show"><a href="#v-ifå’Œv-show" class="headerlink" title="v-ifå’Œv-show"></a>v-ifå’Œv-show</h4><p>v-showï¼ˆä¼šå¯¼è‡´å›æµï¼‰</p>
<p>v-showä¸ç®¡æ¡ä»¶æ˜¯çœŸè¿˜æ˜¯å‡ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šç¼–è¯‘å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯æ ‡ç­¾éƒ½ä¼šæ·»åŠ åˆ°DOMä¸­ã€‚ä¹‹ååˆ‡æ¢çš„æ—¶å€™ï¼Œé€šè¿‡display: none;æ ·å¼æ¥æ˜¾ç¤ºéšè—å…ƒç´ ã€‚å¯ä»¥è¯´åªæ˜¯æ”¹å˜cssçš„æ ·å¼ï¼Œå‡ ä¹ä¸ä¼šå½±å“ä»€ä¹ˆæ€§èƒ½ã€‚</p>
<p>v-ifï¼ˆå¢åˆ domï¼‰</p>
<p>åœ¨é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œå¦‚æœæ¡ä»¶ä¸ºå‡ï¼Œä»€ä¹ˆä¹Ÿä¸æ“ä½œï¼Œé¡µé¢å½“ä½œæ²¡æœ‰è¿™äº›å…ƒç´ ã€‚å½“æ¡ä»¶ä¸ºçœŸçš„æ—¶å€™ï¼Œå¼€å§‹å±€éƒ¨ç¼–è¯‘ï¼ŒåŠ¨æ€çš„å‘DOMå…ƒç´ é‡Œé¢æ·»åŠ å…ƒç´ ã€‚å½“æ¡ä»¶ä»çœŸå˜ä¸ºå‡çš„æ—¶å€™ï¼Œå¼€å§‹å±€éƒ¨ç¼–è¯‘ï¼Œå¸è½½è¿™äº›å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤ã€‚</p>
<p>æ€§èƒ½æ–¹é¢<br>v-ifç»å¯¹æ˜¯æ›´æ¶ˆè€—æ€§èƒ½çš„ï¼Œå› ä¸ºv-ifåœ¨æ˜¾ç¤ºéšè—è¿‡ç¨‹ä¸­æœ‰DOMçš„æ·»åŠ å’Œåˆ é™¤ï¼Œv-showå°±ç®€å•å¤šäº†ï¼Œåªæ˜¯æ“ä½œcssã€‚</p>
<p>ä½¿ç”¨åœºæ™¯<br>å› ä¸ºv-showæ— è®ºå¦‚ä½•éƒ½ä¼šæ¸²æŸ“ï¼Œå¦‚æœåœ¨ä¸€äº›åœºæ™¯ä¸‹å¾ˆéš¾å‡ºç°ï¼Œé‚£ä¹ˆä½¿ç”¨v-ifã€‚å¦‚æœæ˜¯ä¸€äº›å›ºå®šçš„ï¼Œæ¡ä»¶å†…å®¹éƒ½ä¸æ€ä¹ˆä¼šæ”¹å˜çš„ï¼Œé¢‘ç¹åˆ‡æ¢çš„ï¼Œä½¿ç”¨v-showä¼šæ¯”è¾ƒçœæ€§èƒ½ã€‚å¦‚æœæ˜¯å­ç»„ä»¶ï¼Œæ¯æ¬¡åˆ‡æ¢å­ç»„ä»¶ä¸æ‰§è¡Œç”Ÿå‘½å‘¨æœŸï¼Œä½¿ç”¨v-showï¼Œå¦‚æœå­ç»„ä»¶éœ€è¦é‡æ–°æ‰§è¡Œç”Ÿå‘½å‘¨æœŸï¼Œé‚£ä¹ˆä½¿ç”¨v-ifæ‰èƒ½è§¦å‘ã€‚</p>
<hr>
<h4 id="vueçš„æ•°ç»„æ“ä½œæ–¹æ³•"><a href="#vueçš„æ•°ç»„æ“ä½œæ–¹æ³•" class="headerlink" title="vueçš„æ•°ç»„æ“ä½œæ–¹æ³•"></a>vueçš„æ•°ç»„æ“ä½œæ–¹æ³•</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6941348666422919204">https://juejin.cn/post/6941348666422919204</a></p>
<p>vueçš„setæ–¹æ³•åŸç†æ˜¯splice()</p>
<hr>
<h4 id="vueæ•°æ®å˜åŒ–è§†å›¾ä¸æ›´æ–°çš„æƒ…å†µ"><a href="#vueæ•°æ®å˜åŒ–è§†å›¾ä¸æ›´æ–°çš„æƒ…å†µ" class="headerlink" title="vueæ•°æ®å˜åŒ–è§†å›¾ä¸æ›´æ–°çš„æƒ…å†µ"></a>vueæ•°æ®å˜åŒ–è§†å›¾ä¸æ›´æ–°çš„æƒ…å†µ</h4><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000022772025">https://segmentfault.com/a/1190000022772025</a></p>
<hr>
<h4 id="vueæ›´æ–°æ•°ç»„æ—¶è§¦å‘è§†å›¾æ›´æ–°çš„æ–¹æ³•"><a href="#vueæ›´æ–°æ•°ç»„æ—¶è§¦å‘è§†å›¾æ›´æ–°çš„æ–¹æ³•" class="headerlink" title="vueæ›´æ–°æ•°ç»„æ—¶è§¦å‘è§†å›¾æ›´æ–°çš„æ–¹æ³•"></a>vueæ›´æ–°æ•°ç»„æ—¶è§¦å‘è§†å›¾æ›´æ–°çš„æ–¹æ³•</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_57550930/article/details/120422295">https://blog.csdn.net/weixin_57550930/article/details/120422295</a></p>
<hr>
<h4 id="Vue-å¸¸ç”¨ä¿®é¥°ç¬¦"><a href="#Vue-å¸¸ç”¨ä¿®é¥°ç¬¦" class="headerlink" title="Vue å¸¸ç”¨ä¿®é¥°ç¬¦"></a>Vue å¸¸ç”¨ä¿®é¥°ç¬¦</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_64969829/article/details/122881221">https://blog.csdn.net/m0_64969829/article/details/122881221</a></p>
<hr>
<h4 id="Vueåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#Vueåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vueåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>Vueåœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/rainbowLover/p/13229003.html">https://www.cnblogs.com/rainbowLover/p/13229003.html</a></p>
<hr>
<h4 id="ç‰¹æ®Šé—®é¢˜è§£å†³"><a href="#ç‰¹æ®Šé—®é¢˜è§£å†³" class="headerlink" title="ç‰¹æ®Šé—®é¢˜è§£å†³"></a>ç‰¹æ®Šé—®é¢˜è§£å†³</h4><h5 id="åœ¨-Vue-ä¸­å¦‚ä½•å®ç°çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Ÿå¦‚ä½•ç¡®ä¿åœ¨çˆ¶ç»„ä»¶æ›´æ–°æ•°æ®æ—¶ï¼Œå­ç»„ä»¶èƒ½å¤ŸåŠæ—¶æ¥æ”¶åˆ°æ›´æ–°ï¼Œä½†åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹æ•°æ®ä¸ä¼šç›´æ¥å½±å“çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Ÿ"><a href="#åœ¨-Vue-ä¸­å¦‚ä½•å®ç°çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Ÿå¦‚ä½•ç¡®ä¿åœ¨çˆ¶ç»„ä»¶æ›´æ–°æ•°æ®æ—¶ï¼Œå­ç»„ä»¶èƒ½å¤ŸåŠæ—¶æ¥æ”¶åˆ°æ›´æ–°ï¼Œä½†åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹æ•°æ®ä¸ä¼šç›´æ¥å½±å“çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Ÿ" class="headerlink" title="åœ¨ Vue ä¸­å¦‚ä½•å®ç°çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Ÿå¦‚ä½•ç¡®ä¿åœ¨çˆ¶ç»„ä»¶æ›´æ–°æ•°æ®æ—¶ï¼Œå­ç»„ä»¶èƒ½å¤ŸåŠæ—¶æ¥æ”¶åˆ°æ›´æ–°ï¼Œä½†åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹æ•°æ®ä¸ä¼šç›´æ¥å½±å“çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Ÿ"></a>åœ¨ Vue ä¸­å¦‚ä½•å®ç°çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Ÿå¦‚ä½•ç¡®ä¿åœ¨çˆ¶ç»„ä»¶æ›´æ–°æ•°æ®æ—¶ï¼Œå­ç»„ä»¶èƒ½å¤ŸåŠæ—¶æ¥æ”¶åˆ°æ›´æ–°ï¼Œä½†åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹æ•°æ®ä¸ä¼šç›´æ¥å½±å“çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Ÿ</h5><p>åœ¨ Vue ä¸­ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶å¯ä»¥é€šè¿‡ emit å‘çˆ¶ç»„ä»¶å‘é€äº‹ä»¶ä»¥æ›´æ–°æ•°æ®ã€‚å¦‚æœéœ€è¦ç¡®ä¿çˆ¶ç»„ä»¶çš„æ•°æ®æ›´æ–°æ—¶å­ç»„ä»¶æ¥æ”¶æœ€æ–°æ•°æ®ï¼Œè€Œå­ç»„ä»¶ä¿®æ”¹æ•°æ®ä¸ç›´æ¥å½±å“çˆ¶ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ v-model åœ¨å­ç»„ä»¶ä¸­å®ç°åŒå‘ç»‘å®šï¼Œæˆ–ä½¿ç”¨æ•°æ®æ‹·è´</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;ChildComponent :value=<span class="string">&quot;parentData&quot;</span> @update:value=<span class="string">&quot;parentData = $event&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;input :value=<span class="string">&quot;value&quot;</span> @input=<span class="string">&quot;$emit(&#x27;update:value&#x27;, $event.target.value)&quot;</span> /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">props: [<span class="string">&#x27;value&#x27;</span>]</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åœ¨-Vue-ä¸­ï¼Œå½“ä½¿ç”¨-v-model-å®ç°åŒå‘æ•°æ®ç»‘å®šæ—¶ï¼Œå¦‚ä½•è‡ªå®šä¹‰ç»„ä»¶ä½¿å…¶èƒ½å¤Ÿä¸-v-model-é…åˆå·¥ä½œï¼Ÿ"><a href="#åœ¨-Vue-ä¸­ï¼Œå½“ä½¿ç”¨-v-model-å®ç°åŒå‘æ•°æ®ç»‘å®šæ—¶ï¼Œå¦‚ä½•è‡ªå®šä¹‰ç»„ä»¶ä½¿å…¶èƒ½å¤Ÿä¸-v-model-é…åˆå·¥ä½œï¼Ÿ" class="headerlink" title="åœ¨ Vue ä¸­ï¼Œå½“ä½¿ç”¨ v-model å®ç°åŒå‘æ•°æ®ç»‘å®šæ—¶ï¼Œå¦‚ä½•è‡ªå®šä¹‰ç»„ä»¶ä½¿å…¶èƒ½å¤Ÿä¸ v-model é…åˆå·¥ä½œï¼Ÿ"></a>åœ¨ Vue ä¸­ï¼Œå½“ä½¿ç”¨ v-model å®ç°åŒå‘æ•°æ®ç»‘å®šæ—¶ï¼Œå¦‚ä½•è‡ªå®šä¹‰ç»„ä»¶ä½¿å…¶èƒ½å¤Ÿä¸ v-model é…åˆå·¥ä½œï¼Ÿ</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;input :value=<span class="string">&quot;modelValue&quot;</span> @input=<span class="string">&quot;$emit(&#x27;update:modelValue&#x27;, $event.target.value)&quot;</span> /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: [<span class="string">&#x27;modelValue&#x27;</span>]</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åœ¨-Vue-3-ä¸­ä½¿ç”¨-Composition-API-æ—¶ï¼Œå¦‚ä½•åœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«é€»è¾‘è€Œé¿å…ä»£ç é‡å¤ï¼Ÿè¯·è§£é‡Šå¦‚ä½•ä½¿ç”¨-composablesã€‚"><a href="#åœ¨-Vue-3-ä¸­ä½¿ç”¨-Composition-API-æ—¶ï¼Œå¦‚ä½•åœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«é€»è¾‘è€Œé¿å…ä»£ç é‡å¤ï¼Ÿè¯·è§£é‡Šå¦‚ä½•ä½¿ç”¨-composablesã€‚" class="headerlink" title="åœ¨ Vue 3 ä¸­ä½¿ç”¨ Composition API æ—¶ï¼Œå¦‚ä½•åœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«é€»è¾‘è€Œé¿å…ä»£ç é‡å¤ï¼Ÿè¯·è§£é‡Šå¦‚ä½•ä½¿ç”¨ composablesã€‚"></a>åœ¨ Vue 3 ä¸­ä½¿ç”¨ Composition API æ—¶ï¼Œå¦‚ä½•åœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«é€»è¾‘è€Œé¿å…ä»£ç é‡å¤ï¼Ÿè¯·è§£é‡Šå¦‚ä½•ä½¿ç”¨ composablesã€‚</h5><p>åœ¨ Vue 3 ä¸­ï¼Œcomposables æ˜¯ç”¨æ¥å¤ç”¨é€»è¾‘çš„å‡½æ•°ï¼Œé€šå¸¸ä»¥ useXxx å‘½å</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useCounter.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">useCounter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> increment = <span class="function">() =&gt;</span> count.value++;</span><br><span class="line">  <span class="keyword">return</span> &#123; count, increment &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">import</span> &#123; useCounter &#125; <span class="keyword">from</span> <span class="string">&#x27;./useCounter&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; count, increment &#125; = useCounter();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå¤æ‚çš„-Vue-åº”ç”¨ï¼Œéœ€è¦åœ¨æŸä¸ªç»„ä»¶çš„-created-é’©å­ä¸­è¯·æ±‚æ•°æ®å¹¶å°†å…¶å­˜å‚¨åœ¨-data-ä¸­ï¼Œä½†åœ¨è¯·æ±‚å®Œæˆå‰ç»„ä»¶å¯èƒ½ä¼šè¢«é”€æ¯ã€‚å¦‚ä½•é¿å…è¯·æ±‚æœªå®Œæˆå¯¼è‡´çš„å†…å­˜æ³„æ¼ï¼Ÿ"><a href="#ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå¤æ‚çš„-Vue-åº”ç”¨ï¼Œéœ€è¦åœ¨æŸä¸ªç»„ä»¶çš„-created-é’©å­ä¸­è¯·æ±‚æ•°æ®å¹¶å°†å…¶å­˜å‚¨åœ¨-data-ä¸­ï¼Œä½†åœ¨è¯·æ±‚å®Œæˆå‰ç»„ä»¶å¯èƒ½ä¼šè¢«é”€æ¯ã€‚å¦‚ä½•é¿å…è¯·æ±‚æœªå®Œæˆå¯¼è‡´çš„å†…å­˜æ³„æ¼ï¼Ÿ" class="headerlink" title="ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå¤æ‚çš„ Vue åº”ç”¨ï¼Œéœ€è¦åœ¨æŸä¸ªç»„ä»¶çš„ created é’©å­ä¸­è¯·æ±‚æ•°æ®å¹¶å°†å…¶å­˜å‚¨åœ¨ data ä¸­ï¼Œä½†åœ¨è¯·æ±‚å®Œæˆå‰ç»„ä»¶å¯èƒ½ä¼šè¢«é”€æ¯ã€‚å¦‚ä½•é¿å…è¯·æ±‚æœªå®Œæˆå¯¼è‡´çš„å†…å­˜æ³„æ¼ï¼Ÿ"></a>ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå¤æ‚çš„ Vue åº”ç”¨ï¼Œéœ€è¦åœ¨æŸä¸ªç»„ä»¶çš„ created é’©å­ä¸­è¯·æ±‚æ•°æ®å¹¶å°†å…¶å­˜å‚¨åœ¨ data ä¸­ï¼Œä½†åœ¨è¯·æ±‚å®Œæˆå‰ç»„ä»¶å¯èƒ½ä¼šè¢«é”€æ¯ã€‚å¦‚ä½•é¿å…è¯·æ±‚æœªå®Œæˆå¯¼è‡´çš„å†…å­˜æ³„æ¼ï¼Ÿ</h5><p>åœ¨å¼‚æ­¥è¯·æ±‚ä¸­å¯ä½¿ç”¨æ ‡å¿—å˜é‡æˆ–å–æ¶ˆè¯·æ±‚çš„æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">isMounted</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    <span class="built_in">this</span>.fetchData();</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    <span class="built_in">this</span>.isMounted = <span class="literal">false</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="keyword">async</span> fetchData() &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> fetchSomeData();</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.isMounted) &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="Vue-ä¸­ä½¿ç”¨-ref-å’Œ-reactive-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨-ref-æ¯”-reactive-æ›´åˆé€‚ï¼Ÿ"><a href="#Vue-ä¸­ä½¿ç”¨-ref-å’Œ-reactive-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨-ref-æ¯”-reactive-æ›´åˆé€‚ï¼Ÿ" class="headerlink" title="Vue ä¸­ä½¿ç”¨ ref å’Œ reactive æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ ref æ¯” reactive æ›´åˆé€‚ï¼Ÿ"></a>Vue ä¸­ä½¿ç”¨ ref å’Œ reactive æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ ref æ¯” reactive æ›´åˆé€‚ï¼Ÿ</h5><p>ref é€‚ç”¨äºç®€å•å€¼å’Œéœ€è¦è§£åŒ…çš„åœºæ™¯ï¼ˆä¾‹å¦‚åŸºç¡€ç±»å‹ï¼‰ã€‚<br>reactive é€‚åˆç”¨äºå¯¹è±¡å’ŒåµŒå¥—ç»“æ„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> count = ref(<span class="number">0</span>); <span class="comment">// åŸºæœ¬ç±»å‹</span></span><br><span class="line"><span class="keyword">const</span> user = reactive(&#123; <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;); <span class="comment">// å¯¹è±¡</span></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åœ¨-Vue-é¡¹ç›®ä¸­ï¼Œå¦‚ä½•ç¡®ä¿ä¸€ä¸ªç»„ä»¶åœ¨-beforeRouteLeave-é’©å­ä¸­é˜»æ­¢ç”¨æˆ·åœ¨æœªä¿å­˜æ›´æ”¹çš„æƒ…å†µä¸‹ç¦»å¼€å½“å‰é¡µé¢ï¼Ÿ"><a href="#åœ¨-Vue-é¡¹ç›®ä¸­ï¼Œå¦‚ä½•ç¡®ä¿ä¸€ä¸ªç»„ä»¶åœ¨-beforeRouteLeave-é’©å­ä¸­é˜»æ­¢ç”¨æˆ·åœ¨æœªä¿å­˜æ›´æ”¹çš„æƒ…å†µä¸‹ç¦»å¼€å½“å‰é¡µé¢ï¼Ÿ" class="headerlink" title="åœ¨ Vue é¡¹ç›®ä¸­ï¼Œå¦‚ä½•ç¡®ä¿ä¸€ä¸ªç»„ä»¶åœ¨ beforeRouteLeave é’©å­ä¸­é˜»æ­¢ç”¨æˆ·åœ¨æœªä¿å­˜æ›´æ”¹çš„æƒ…å†µä¸‹ç¦»å¼€å½“å‰é¡µé¢ï¼Ÿ"></a>åœ¨ Vue é¡¹ç›®ä¸­ï¼Œå¦‚ä½•ç¡®ä¿ä¸€ä¸ªç»„ä»¶åœ¨ beforeRouteLeave é’©å­ä¸­é˜»æ­¢ç”¨æˆ·åœ¨æœªä¿å­˜æ›´æ”¹çš„æƒ…å†µä¸‹ç¦»å¼€å½“å‰é¡µé¢ï¼Ÿ</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  beforeRouteLeave(to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.isSaved) &#123;</span><br><span class="line">      <span class="keyword">const</span> answer = <span class="built_in">window</span>.confirm(<span class="string">&#x27;You have unsaved changes. Do you really want to leave?&#x27;</span>);</span><br><span class="line">      <span class="keyword">if</span> (answer) &#123;</span><br><span class="line">        next();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        next(<span class="literal">false</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      next();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å¦‚ä½•åœ¨-Vue-é¡¹ç›®ä¸­åŠ¨æ€åŠ è½½å’Œä½¿ç”¨å¤–éƒ¨æ’ä»¶ï¼Œè€Œä¸åœ¨é¡¹ç›®å¯åŠ¨æ—¶ç›´æ¥å¼•å…¥ï¼Ÿ"><a href="#å¦‚ä½•åœ¨-Vue-é¡¹ç›®ä¸­åŠ¨æ€åŠ è½½å’Œä½¿ç”¨å¤–éƒ¨æ’ä»¶ï¼Œè€Œä¸åœ¨é¡¹ç›®å¯åŠ¨æ—¶ç›´æ¥å¼•å…¥ï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨ Vue é¡¹ç›®ä¸­åŠ¨æ€åŠ è½½å’Œä½¿ç”¨å¤–éƒ¨æ’ä»¶ï¼Œè€Œä¸åœ¨é¡¹ç›®å¯åŠ¨æ—¶ç›´æ¥å¼•å…¥ï¼Ÿ"></a>å¦‚ä½•åœ¨ Vue é¡¹ç›®ä¸­åŠ¨æ€åŠ è½½å’Œä½¿ç”¨å¤–éƒ¨æ’ä»¶ï¼Œè€Œä¸åœ¨é¡¹ç›®å¯åŠ¨æ—¶ç›´æ¥å¼•å…¥ï¼Ÿ</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">loadPlugin</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="built_in">module</span> = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&#x27;some-external-plugin&#x27;</span>);</span><br><span class="line">  <span class="built_in">module</span>.default();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åœ¨ä½¿ç”¨-Vuex-æ—¶ï¼Œå¦‚ä½•ç¡®ä¿å¼‚æ­¥æ“ä½œåœ¨å¤šä¸ªç»„ä»¶ä¸­ä¸ä¼šé€ æˆæ•°æ®ç«äº‰æ¡ä»¶æˆ–ä¸ä¸€è‡´é—®é¢˜ï¼Ÿ"><a href="#åœ¨ä½¿ç”¨-Vuex-æ—¶ï¼Œå¦‚ä½•ç¡®ä¿å¼‚æ­¥æ“ä½œåœ¨å¤šä¸ªç»„ä»¶ä¸­ä¸ä¼šé€ æˆæ•°æ®ç«äº‰æ¡ä»¶æˆ–ä¸ä¸€è‡´é—®é¢˜ï¼Ÿ" class="headerlink" title="åœ¨ä½¿ç”¨ Vuex æ—¶ï¼Œå¦‚ä½•ç¡®ä¿å¼‚æ­¥æ“ä½œåœ¨å¤šä¸ªç»„ä»¶ä¸­ä¸ä¼šé€ æˆæ•°æ®ç«äº‰æ¡ä»¶æˆ–ä¸ä¸€è‡´é—®é¢˜ï¼Ÿ"></a>åœ¨ä½¿ç”¨ Vuex æ—¶ï¼Œå¦‚ä½•ç¡®ä¿å¼‚æ­¥æ“ä½œåœ¨å¤šä¸ªç»„ä»¶ä¸­ä¸ä¼šé€ æˆæ•°æ®ç«äº‰æ¡ä»¶æˆ–ä¸ä¸€è‡´é—®é¢˜ï¼Ÿ</h5><p>ç¡®ä¿æ‰€æœ‰å¼‚æ­¥è°ƒç”¨åœ¨ Vuex ä¸­çš„ actions ä¸­å®Œæˆï¼Œå¹¶ä½¿ç”¨ Promise é“¾æˆ– async/await æ¥åè°ƒå¤šä¸ªè¯·æ±‚ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  <span class="keyword">async</span> fetchData(&#123; commit &#125;) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> apiCall();</span><br><span class="line">    commit(<span class="string">&#x27;setData&#x27;</span>, data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="Vue-3-çš„-teleport-æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜å¦‚ä½•åœ¨åº”ç”¨ä¸­ä½¿ç”¨å®ƒæ¥ä¼˜åŒ–å¸ƒå±€æˆ–æ ·å¼ç®¡ç†ã€‚"><a href="#Vue-3-çš„-teleport-æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜å¦‚ä½•åœ¨åº”ç”¨ä¸­ä½¿ç”¨å®ƒæ¥ä¼˜åŒ–å¸ƒå±€æˆ–æ ·å¼ç®¡ç†ã€‚" class="headerlink" title="Vue 3 çš„ teleport æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜å¦‚ä½•åœ¨åº”ç”¨ä¸­ä½¿ç”¨å®ƒæ¥ä¼˜åŒ–å¸ƒå±€æˆ–æ ·å¼ç®¡ç†ã€‚"></a>Vue 3 çš„ teleport æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜å¦‚ä½•åœ¨åº”ç”¨ä¸­ä½¿ç”¨å®ƒæ¥ä¼˜åŒ–å¸ƒå±€æˆ–æ ·å¼ç®¡ç†ã€‚</h5><p>teleport ç”¨æ¥å°† DOM æ¸²æŸ“åˆ°å½“å‰ç»„ä»¶æ ‘å¤–éƒ¨çš„ç›®æ ‡ä½ç½®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;teleport to=<span class="string">&quot;body&quot;</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;modal&quot;</span>&gt;This is a modal&lt;/div&gt;</span><br><span class="line">  &lt;/teleport&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å¦‚ä½•åœ¨-Vue-ä¸­é€šè¿‡äº‹ä»¶æ€»çº¿å®ç°å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Ÿåœ¨-Vue-3-ä¸­ï¼Œæœ‰å“ªäº›æ›´æ¨èçš„æ–¹æ³•æ›¿ä»£äº‹ä»¶æ€»çº¿ï¼Ÿ"><a href="#å¦‚ä½•åœ¨-Vue-ä¸­é€šè¿‡äº‹ä»¶æ€»çº¿å®ç°å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Ÿåœ¨-Vue-3-ä¸­ï¼Œæœ‰å“ªäº›æ›´æ¨èçš„æ–¹æ³•æ›¿ä»£äº‹ä»¶æ€»çº¿ï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨ Vue ä¸­é€šè¿‡äº‹ä»¶æ€»çº¿å®ç°å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Ÿåœ¨ Vue 3 ä¸­ï¼Œæœ‰å“ªäº›æ›´æ¨èçš„æ–¹æ³•æ›¿ä»£äº‹ä»¶æ€»çº¿ï¼Ÿ"></a>å¦‚ä½•åœ¨ Vue ä¸­é€šè¿‡äº‹ä»¶æ€»çº¿å®ç°å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Ÿåœ¨ Vue 3 ä¸­ï¼Œæœ‰å“ªäº›æ›´æ¨èçš„æ–¹æ³•æ›¿ä»£äº‹ä»¶æ€»çº¿ï¼Ÿ</h5><p>1.provide å’Œ inject æ˜¯ Vue 3 ä¸­å¸¸ç”¨çš„ç”¨äºç¥–å…ˆç»„ä»¶å’Œåä»£ç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®çš„ APIã€‚å®ƒå¯ä»¥å®ç°è·¨å±‚çº§çš„é€šä¿¡ï¼Œé¿å…å±‚å±‚ä¼ é€’ props</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    provide(<span class="string">&#x27;sharedData&#x27;</span>, <span class="string">&#x27;Hello from ancestor&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> sharedData = inject(<span class="string">&#x27;sharedData&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123; sharedData &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; sharedData &#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.å…¨å±€çŠ¶æ€ç®¡ç†</p>
<p>3.Composable Functions</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useSharedState.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sharedValue = ref(<span class="string">&#x27;Initial value&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">useSharedState</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; sharedValue &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useSharedState &#125; <span class="keyword">from</span> <span class="string">&#x27;./useSharedState&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; sharedValue &#125; = useSharedState();</span><br><span class="line">    <span class="keyword">return</span> &#123; sharedValue &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>

            <br />
            <p class="meta">
                
            </p>
        </div>

        <div class="col-sm-3">
             
<span><b> TL;DR</b></span>
<p>
	Yet another hexo theme.
</p>
<hr />


<span><b> TL;DR 2</b></span>
<p>
	No, not another one :/
</p>
<hr />

 

<span
	><a href="https://twitter.com/hexojs" target="_blank" rel="noopener"
		><b
			><i class="fab fa-twitter-square"></i>
			<i class="fas fa-at"></i>
			hexojs</b
		></a
	></span
>
<br />
<a class="twitter-timeline" data-height="800" data-dnt="true" data-chrome="nofooter transparent noheader noborders " target="_blank" rel="noopener" href="https://twitter.com/hexojs?ref_src=twsrc%5Etfw"></a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


        </div>
    </div>
</div>
<!-- Menu fade on scroll -->
<script>
    var isScrolling;
    var prevScrollpos = window.pageYOffset;
    window.addEventListener(
        'scroll',
        function(event) {
            window.clearTimeout(isScrolling);
            isScrolling = setTimeout(function() {
                var currentScrollPos = window.pageYOffset;
                if (prevScrollpos > currentScrollPos) {
                    $('#navbar').slideDown();
                } else {
                    $('#navbar').slideUp();
                }
                prevScrollpos = currentScrollPos;
            }, 66);
        },
        false
    );
</script>


<a class="float-left gradient btn paginationbtn" href="/2023/07/13/sortArithmetic/"><i class="fas fa-chevron-left"></i></a>


<a class="float-right gradient btn paginationbtn" href="/2023/07/13/webpack/"><i class="fas fa-chevron-right"></i></a>

    </main>
    <!-- Footer -->
    <footer class="page-footer">
  <div class="container">
    <div class="social-icons">
      
      <a href="https://hexo.io/" title="Hexo.io" target="_blank" rel="noopener" class="fas fa-home"></a>
      
      <a href="https://twitter.com/hexojs" title="@hexojs" target="_blank" rel="noopener" class="fab fa-twitter"></a>
      
      <a href="https://github.com/RandomAdversary/Gradient/issues" title="Report issue" target="_blank" rel="noopener" class="fas fa-bug"></a>
      
    </div>
  </div>
</footer>
    <!-- After footer scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
</body>

</html>